import{n as k,B as K,k as ue,c as qn,i as R,t as qe,_ as rs,h as O,a as D,b as je,d as Rn,f as be,C as ss,g as as,j as os,U as Fn,T as is,l as Ke,m as cs,o as A,p as eo,q as us,s as to,r as Qe,u as et,v as Ln,w as ds,x as fe,y as fs,z as ls,A as hs,D as Mn,E as ms,L as gs,F as On,G as Tr,H as Hn,I as $n,J as ps,K as _t,M as ys,N as It,O as Sr,P as bs,Q as ws,R as Bt,S as no,V as tt,W as mn,X as At,Y as Ye,Z as ne,$ as nt,e as rt,a0 as Ct,a1 as vs,a2 as jn,a3 as st,a4 as De,a5 as Es,a6 as ro,a7 as Re,a8 as Dn,a9 as pe,aa as Un,ab as xs,ac as Gn,ad as _s,ae as gn,af as de,ag as zn,ah as so,ai as ao,aj as Is,ak as Ps,al as Je,am as pn,an as Pt,ao as Tt,ap as Ts,aq as yn,ar as Ss,as as bn,at as Bs,au as As,av as Vn,aw as Zn,ax as We,ay as Kn,az as Cs,aA as ks,aB as Ns,aC as se,aD as qs,aE as Rs,aF as wn,aG as _e,aH as oo,aI as io,aJ as gt,aK as Wn,aL as Fs,aM as Ue,aN as co,aO as uo,aP as Ls,aQ as Ms,aR as Os,aS as Hs,aT as $s,aU as vn,aV as js,aW as Ds,aX as fo,aY as Us,aZ as En,a_ as Yn,a$ as Gs,b0 as lo,b1 as ho,b2 as mo,b3 as Br,b4 as go,b5 as po,b6 as yo,b7 as bo,b8 as xn,b9 as zs,ba as Vs,bb as Zs,bc as kt,bd as Ks,be as Ws,bf as wo,bg as vo,bh as Eo,bi as xo,bj as _o,bk as Nt,bl as Ys,bm as Js,bn as Xs,bo as _n,bp as Qs,bq as ea,br as Io,bs as Po,bt as To,bu as So,bv as Bo,bw as Ao,bx as Co,by as ko,bz as No,bA as qo,bB as Ro,bC as Fo,bD as Lo,bE as Mo,bF as Oo,bG as Ho,bH as $o,bI as jo,bJ as Do,bK as Uo,bL as Go,bM as zo,bN as Vo,bO as Zo,bP as Ko,bQ as Wo,bR as Yo,bS as Jo,bT as Xo,bU as Qo,bV as ei,bW as ti,bX as ni,bY as ri,bZ as si,b_ as ai,b$ as oi,c0 as ii,c1 as ci,c2 as ui,c3 as di,c4 as fi,c5 as li,c6 as hi,c7 as mi,c8 as gi,c9 as pi,ca as yi,cb as bi,cc as wi,cd as vi,ce as Ei,cf as xi,cg as _i,ch as Ii,ci as Pi,cj as Ti,ck as Si,cl as Bi,cm as Ai,cn as Ci,co as ki,cp as Ni,cq as qi,cr as Ri,cs as Fi,ct as Li,cu as Mi,cv as Oi,cw as Hi,cx as $i,cy as ji,cz as Di,cA as Ui,cB as Gi,cC as zi,cD as Vi,cE as Zi,cF as Ki,cG as Wi,cH as Yi,cI as Ji,cJ as Xi,cK as Qi,cL as ec,cM as tc,cN as nc,cO as rc,cP as sc,cQ as ac,cR as oc,cS as ic,cT as cc,cU as uc,cV as pt,cW as dc,cX as fc,cY as lc,cZ as hc,c_ as mc,c$ as gc,d0 as pc,d1 as yc,d2 as bc,d3 as wc,d4 as vc,d5 as Ec,d6 as xc,d7 as _c,d8 as Ic,d9 as Pc,da as Tc,db as Sc,dc as Bc,dd as Ac,de as Cc,df as kc,dg as Nc,dh as qc,di as Rc,dj as Fc,dk as Lc,dl as Mc,dm as Oc,dn as Hc,dp as $c,dq as jc,dr as Dc,ds as Uc,dt as Gc,du as zc,dv as Vc,dw as Zc,dx as Kc,dy as Wc,dz as Yc,dA as Jc,dB as Xc,dC as Qc,dD as eu,dE as tu,dF as nu,dG as ru,dH as su,dI as au,dJ as ou,dK as iu,dL as cu,dM as uu,dN as du,dO as fu,dP as lu,dQ as hu,dR as mu,dS as gu,dT as pu,dU as yu,dV as bu,dW as wu,dX as vu,dY as Eu,dZ as xu,d_ as _u,d$ as Iu,e0 as Pu,e1 as Tu,e2 as Su,e3 as Bu,e4 as Au,e5 as Cu,e6 as ku,e7 as Nu,e8 as qu,e9 as Ru,ea as Fu,eb as Lu,ec as Mu,ed as Ou,ee as Hu,ef as $u,eg as ju,eh as Du,ei as Uu,ej as Gu,ek as zu,el as Vu,em as Zu,en as Ku,eo as Wu,ep as Yu,eq as Ju,er as Xu,es as Qu,et as ed,eu as td,ev as nd,ew as rd,ex as sd,ey as ad,ez as od,eA as id,eB as cd,eC as ud,eD as dd,eE as fd,eF as ld,eG as hd,eH as md,eI as gd,eJ as Ar,eK as pd,eL as yd,eM as j,eN as bd,eO as wd}from"./main-BI4PqNg_.js";import{i as vd,b as Ed,c as xd,h as qt,a as Jn,g as ta,v as na,s as ra,I as _d,d as Id,e as Pd,f as Td,j as Sd,p as Bd,t as Ad,k as Cd}from"./index-d8z4Jkkl.js";import{i as Te,c as Cr,o as kd,a as Nd,b as qd}from"./ccip-f_Ap_2Er.js";import{e as Rd}from"./events-DFH6TIFE.js";function Fd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}async function Ld(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:k(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:i?Object.values(i).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}class at extends K{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class en extends K{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Md(e){const t=ue(`0x${e.substring(4)}`).substring(26);return qn(`0x${t}`)}async function sa({hash:e,signature:t}){const n=R(e)?e:qe(e),{secp256k1:r}=await rs(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>ph);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:f,yParity:d}=t,h=Number(d??f),p=kr(h);return new r.Signature(O(u),O(l)).addRecoveryBit(p)}const i=R(t)?t:qe(t),c=D(`0x${i.slice(130)}`),o=kr(c);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(o)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function kr(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Se({hash:e,signature:t}){return Md(await sa({hash:e,signature:t}))}function Od(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,a=ue(je(["0x05",Rn([t?k(t):"0x",n,r?k(r):"0x"])]));return s==="bytes"?be(a):a}async function aa(e){const{authorization:t,signature:n}=e;return Se({hash:Od(t),signature:n??t})}function Xn({chain:e,currentChainId:t}){if(!e)throw new ss;if(t!==e.id)throw new as({chain:e,currentChainId:t})}function Hd(e,{docsPath:t,...n}){const r=(()=>{const s=os(e,n);return s instanceof Fn?e:s})();return new is(r,{docsPath:t,...n})}async function ot(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return D(t)}class oa extends K{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Rt extends K{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class ia extends K{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ke(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Qn extends K{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function re(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var l,f,d;const a=r??"latest",i=s??!1,c=n!==void 0?k(n):void 0;let o=null;if(t?o=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):o=await e.request({method:"eth_getBlockByNumber",params:[c||a,i]},{dedupe:!!c}),!o)throw new Qn({blockHash:t,blockNumber:n});return(((d=(f=(l=e.chain)==null?void 0:l.formatters)==null?void 0:f.block)==null?void 0:d.format)||cs)(o)}async function er(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function $d(e,t){return ca(e,t)}async function ca(e,t){var a,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof c=="function"){const u=n||await A(e,re,"getBlock")({}),l=await c({block:u,client:e,request:s});if(l===null)throw new Error;return l}if(typeof c<"u")return c;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return O(o)}catch{const[c,o]=await Promise.all([n?Promise.resolve(n):A(e,re,"getBlock")({}),A(e,er,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Rt;const u=o-c.baseFeePerGas;return u<0n?0n:u}}async function jd(e,t){return In(e,t)}async function In(e,t){var d,h;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},i=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(i<1)throw new oa;const o=10**(((d=i.toString().split(".")[1])==null?void 0:d.length)??0),u=p=>p*BigInt(Math.ceil(i*o))/BigInt(o),l=n||await A(e,re,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(p!==null)return p}if(a==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Rt;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await ca(e,{block:l,chain:r,request:s}),g=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await A(e,er,"getGasPrice")({}))}}class ua extends K{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:c,maxFeePerGas:o,maxPriorityFeePerGas:u,nonce:l,to:f,value:d}){var p;const h=eo({from:n==null?void 0:n.address,to:f,value:typeof d<"u"&&`${us(d)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:a,gas:i,gasPrice:typeof c<"u"&&`${Ke(c)} gwei`,maxFeePerGas:typeof o<"u"&&`${Ke(o)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ke(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Dd(e,{docsPath:t,...n}){const r=(()=>{const s=os(e,n);return s instanceof Fn?e:s})();return new ua(r,{docsPath:t,...n})}async function tr(e,t){var s,a,i;const{account:n=e.account}=t,r=n?fe(n):void 0;try{let T=function(B){const{block:N,request:F,rpcStateOverride:H}=B;return e.request({method:"eth_estimateGas",params:H?[F,N??"latest",H]:N?[F,N]:[F]})};const{accessList:c,authorizationList:o,blobs:u,blobVersionedHashes:l,blockNumber:f,blockTag:d,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:w,value:_,stateOverride:v,...E}=await Ft(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),I=(f?k(f):void 0)||d,P=to(v),L=await(async()=>{if(E.to)return E.to;if(o&&o.length>0)return await aa({authorization:o[0]}).catch(()=>{throw new K("`to` is required. Could not infer from `authorizationList`")})})();Qe(t);const C=(i=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:i.format,M=(C||et)({...Ln(E,{format:C}),from:r==null?void 0:r.address,accessList:c,authorizationList:o,blobs:u,blobVersionedHashes:l,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:w,to:L,value:_});let S=BigInt(await T({block:I,request:M,rpcStateOverride:P}));if(o){const B=await ds(e,{address:M.from}),N=await Promise.all(o.map(async F=>{const{contractAddress:H}=F,z=await T({block:I,request:{authorizationList:void 0,data:h,from:r==null?void 0:r.address,to:H,value:k(B)},rpcStateOverride:P}).catch(()=>100000n);return 2n*BigInt(z)}));S+=N.reduce((F,H)=>F+H,0n)}return S}catch(c){throw Dd(c,{...t,account:r,chain:e.chain})}}async function nr(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?k(r):n]},{dedupe:!!r});return D(s)}const da=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Ft(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:i,nonce:c,nonceManager:o,parameters:u=da,type:l}=t,f=n&&fe(n),d={...t,...f?{from:f==null?void 0:f.address}:{}};let h;async function p(){return h||(h=await A(e,re,"getBlock")({blockTag:"latest"}),h)}let g;async function m(){return g||(s?s.id:typeof t.chainId<"u"?t.chainId:(g=await A(e,ot,"getChainId")({}),g))}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const y=fs({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const b=ls({commitments:y,to:"hex"});d.blobVersionedHashes=b}if(u.includes("sidecars")){const b=hs({blobs:r,commitments:y,kzg:i}),w=Mn({blobs:r,commitments:y,proofs:b,to:"hex"});d.sidecars=w}}if(u.includes("chainId")&&(d.chainId=await m()),u.includes("nonce")&&typeof c>"u"&&f)if(o){const y=await m();d.nonce=await o.consume({address:f.address,chainId:y,client:e})}else d.nonce=await A(e,nr,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&typeof l>"u")try{d.type=ms(d)}catch{const y=await p();d.type=typeof(y==null?void 0:y.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const y=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:w}=await In(e,{block:y,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new ia({maxPriorityFeePerGas:w});d.maxPriorityFeePerGas=w,d.maxFeePerGas=b}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Rt;const y=await p(),{gasPrice:b}=await In(e,{block:y,chain:s,request:d,type:"legacy"});d.gasPrice=b}return u.includes("gas")&&typeof a>"u"&&(d.gas=await A(e,tr,"estimateGas")({...d,account:f&&{address:f.address,type:"json-rpc"}})),Qe(d),delete d.parameters,d}async function rr(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const tn=new gs(128);async function sr(e,t){var y,b,w,_;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:i,data:c,gas:o,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,value:p,...g}=t;if(typeof n>"u")throw new at({docsPath:"/docs/actions/wallet/sendTransaction"});const m=n?fe(n):null;try{Qe(t);const v=await(async()=>{if(t.to)return t.to;if(a&&a.length>0)return await aa({authorization:a[0]}).catch(()=>{throw new K("`to` is required. Could not infer from `authorizationList`.")})})();if((m==null?void 0:m.type)==="json-rpc"||m===null){let E;r!==null&&(E=await A(e,ot,"getChainId")({}),Xn({currentChainId:E,chain:r}));const x=(w=(b=(y=e.chain)==null?void 0:y.formatters)==null?void 0:b.transactionRequest)==null?void 0:w.format,P=(x||et)({...Ln(g,{format:x}),accessList:s,authorizationList:a,blobs:i,chainId:E,data:c,from:m==null?void 0:m.address,gas:o,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:v,value:p}),L=tn.get(e.uid),C=L?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:C,params:[P]},{retryCount:0})}catch(q){if(L===!1)throw q;const M=q;if(M.name==="InvalidInputRpcError"||M.name==="InvalidParamsRpcError"||M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[P]},{retryCount:0}).then(T=>(tn.set(e.uid,!0),T)).catch(T=>{const S=T;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(tn.set(e.uid,!1),M):S});throw M}}if((m==null?void 0:m.type)==="local"){const E=await A(e,Ft,"prepareTransactionRequest")({account:m,accessList:s,authorizationList:a,blobs:i,chain:r,data:c,gas:o,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,nonceManager:m.nonceManager,parameters:[...da,"sidecars"],value:p,...g,to:v}),x=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,I=await m.signTransaction(E,{serializer:x});return await A(e,rr,"sendRawTransaction")({serializedTransaction:I})}throw(m==null?void 0:m.type)==="smart"?new en({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new en({docsPath:"/docs/actions/wallet/sendTransaction",type:m==null?void 0:m.type})}catch(v){throw v instanceof en?v:Hd(v,{...t,account:m,chain:t.chain||void 0})}}function Ud(e,t){const{abi:n,args:r,bytecode:s,...a}=t,i=On({abi:n,args:r,bytecode:s});return sr(e,{...a,data:i})}function Gd(e){let t;if(typeof e=="string")t=Tr(e);else{const n=Hn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!$n(a)){t=Tr(a,n);break}}}if(!t)throw new ps({signature:e});return t}function zd(e){let t;if(typeof e=="string")t=_t(e,{modifiers:It});else{const n=Hn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!$n(a)){t=_t(a,{modifiers:It,structs:n});break}}}if(!t)throw new ys({param:e});return t}function Vd(e){const t=[];if(typeof e=="string"){const n=Sr(e),r=n.length;for(let s=0;s<r;s++)t.push(_t(n[s],{modifiers:It}))}else{const n=Hn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if($n(a))continue;const i=Sr(a),c=i.length;for(let o=0;o<c;o++)t.push(_t(i[o],{modifiers:It,structs:n}))}}if(t.length===0)throw new bs({params:e});return t}async function Zd(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=ws({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[i]=await A(e,Bt,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[qe(no(r))],blockNumber:t,blockTag:n});return i}function Lt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:i,status:c,transport:o})=>{c==="success"&&t===a&&(n[i]=o.request)})),a=>n[a]||e.request}async function Kd(e){const t=Lt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class fa extends K{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Nr="/docs/contract/encodeEventTopics";function Ge(e){var o;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=tt({abi:t,name:n});if(!u)throw new mn(n,{docsPath:Nr});s=u}if(s.type!=="event")throw new mn(void 0,{docsPath:Nr});const a=At(s),i=Ye(a);let c=[];if(r&&"inputs"in s){const u=(o=s.inputs)==null?void 0:o.filter(f=>"indexed"in f&&f.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(f=>r[f.name]))??[]:[];l.length>0&&(c=(u==null?void 0:u.map((f,d)=>Array.isArray(l[d])?l[d].map((h,p)=>qr({param:f,value:l[d][p]})):l[d]?qr({param:f,value:l[d]}):null))??[])}return[i,...c]}function qr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ue(ne(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new fa(e.type);return nt([e],[t])}async function ar(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:i,strict:c,toBlock:o}=t,u=Lt(e,{method:"eth_newFilter"}),l=a?Ge({abi:r,args:s,eventName:a}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?k(i):i,toBlock:typeof o=="bigint"?k(o):o,topics:l}]});return{abi:r,args:s,eventName:a,id:f,request:u(f),strict:!!c,type:"event"}}async function la(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:i,toBlock:c}={}){const o=s??(r?[r]:void 0),u=Lt(e,{method:"eth_newFilter"});let l=[];o&&(l=[o.flatMap(h=>Ge({abi:[h],eventName:h.name,args:n}))],r&&(l=l[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?k(a):a,toBlock:typeof c=="bigint"?k(c):c,...l.length?{topics:l}:{}}]});return{abi:o,args:n,eventName:r?r.name:void 0,fromBlock:a,id:f,request:u(f),strict:!!i,toBlock:c,type:"event"}}async function ha(e){const t=Lt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Wd(e){return e.request({method:`${e.mode}_dumpState`})}async function ma(e,t){const{abi:n,address:r,args:s,functionName:a,...i}=t,c=rt({abi:n,args:s,functionName:a});try{return await A(e,tr,"estimateGas")({data:c,to:r,...i})}catch(o){const u=i.account?fe(i.account):void 0;throw Ct(o,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:u==null?void 0:u.address})}}async function Yd(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const Jd=new Map,Xd=new Map;function Qd(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:i=>a.set(s,i)}),n=t(e,Jd),r=t(e,Xd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function ef(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Qd(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const i=await a;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const tf=e=>`blockNumber.${e}`;async function it(e,{cacheTime:t=e.cacheTime}={}){const n=await ef(()=>e.request({method:"eth_blockNumber"}),{cacheKey:tf(e.uid),cacheTime:t});return BigInt(n)}async function nf(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?k(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),D(a)}async function Rr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?k(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}const Fr="/docs/contract/decodeEventLog";function Mt(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[i,...c]=s;if(!i)throw new vs({docsPath:Fr});const o=t.length===1?t[0]:t.find(g=>g.type==="event"&&i===Ye(At(g)));if(!(o&&"name"in o)||o.type!=="event")throw new jn(i,{docsPath:Fr});const{name:u,inputs:l}=o,f=l==null?void 0:l.some(g=>!("name"in g&&g.name));let d=f?[]:{};const h=l.filter(g=>"indexed"in g&&g.indexed);for(let g=0;g<h.length;g++){const m=h[g],y=c[g];if(!y)throw new st({abiItem:o,param:m});d[f?g:m.name||g]=rf({param:m,value:y})}const p=l.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=De(p,n);if(g)if(f)d=[...d,...g];else for(let m=0;m<p.length;m++)d[p[m].name]=g[m]}catch(g){if(a)throw g instanceof Es||g instanceof ro?new Re({abiItem:o,data:n,params:p,size:Dn(n)}):g}else if(a)throw new Re({abiItem:o,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function rf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(De([e],t)||[])[0]}function Ot(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var c;try{const o=t.find(l=>l.type==="event"&&i.topics[0]===Ye(l));if(!o)return null;const u=Mt({...i,abi:[o],strict:s});return a&&!a.includes(u.eventName)||!sf({args:u.args,inputs:o.inputs,matchArgs:n})?null:{...u,...i}}catch(o){let u,l;if(o instanceof jn)return null;if(o instanceof Re||o instanceof st){if(s)return null;u=o.abiItem.name,l=(c=o.abiItem.inputs)==null?void 0:c.some(f=>!("name"in f&&f.name))}return{...i,args:l?[]:{},eventName:u}}}).filter(Boolean)}function sf(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(a,i,c){try{return a.type==="address"?Te(i,c):a.type==="string"||a.type==="bytes"?ue(ne(i))===c:i===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((a,i)=>{if(a==null)return!0;const c=n[i];return c?(Array.isArray(a)?a:[a]).some(u=>s(c,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,i])=>{if(i==null)return!0;const c=n.find(u=>u.name===a);return c?(Array.isArray(i)?i:[i]).some(u=>s(c,u,t[a])):!1}):!1}async function or(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:i,args:c,strict:o}={}){const u=o??!1,l=i??(a?[a]:void 0);let f=[];l&&(f=[l.flatMap(g=>Ge({abi:[g],eventName:g.name,args:i?void 0:c}))],a&&(f=f[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?k(r):r,toBlock:typeof s=="bigint"?k(s):s}]});const h=d.map(p=>pe(p));return l?Ot({abi:l,args:c,logs:h,strict:u}):h}async function ir(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:i,fromBlock:c,toBlock:o,strict:u}=t,l=i?tt({abi:n,name:i}):void 0,f=l?void 0:n.filter(d=>d.type==="event");return A(e,or,"getLogs")({address:r,args:s,blockHash:a,event:l,events:f,fromBlock:c,toBlock:o,strict:u})}class af extends K{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function of(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,i,c,o,u,l,f]=await A(e,Bt,"readContract")({abi:cf,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:c,chainId:Number(o),verifyingContract:u,salt:l},extensions:f,fields:a}}catch(a){const i=a;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new af({address:n}):i}}const cf=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function uf(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function df(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?k(n):void 0,i=await e.request({method:"eth_feeHistory",params:[k(t),a||r,s]},{dedupe:!!a});return uf(i)}async function Ht(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>pe(a));return!("abi"in t)||!t.abi?s:Ot({abi:t.abi,logs:s,strict:n})}async function ff(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>pe(a));return t.abi?Ot({abi:t.abi,logs:s,strict:n}):s}async function lf(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?k(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function cr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var l,f,d;const i=r||"latest",c=n!==void 0?k(n):void 0;let o=null;if(s?o=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?o=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,k(a)]},{dedupe:!0}):(c||i)&&(o=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||i,k(a)]},{dedupe:!!c})),!o)throw new Un({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:a});return(((d=(f=(l=e.chain)==null?void 0:l.formatters)==null?void 0:f.transaction)==null?void 0:d.format)||xs)(o)}async function hf(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([A(e,it,"getBlockNumber")({}),t?A(e,cr,"getTransaction")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function Pn(e,{hash:t}){var s,a,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Gn({hash:t});return(((i=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:i.format)||_s)(n)}async function mf(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function gf(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[k(t)]})}async function pf(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function yf(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:k(t)}]}):await e.request({method:`${e.mode}_mine`,params:[k(t),k(n||0)]})}const nn=new Map,Lr=new Map;let bf=0;function ye(e,t,n){const r=++bf,s=()=>nn.get(e)||[],a=()=>{const l=s();nn.set(e,l.filter(f=>f.id!==r))},i=()=>{const l=Lr.get(e);s().length===1&&l&&l(),a()},c=s();if(nn.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return i;const o={};for(const l in t)o[l]=(...f)=>{var h,p;const d=s();if(d.length!==0)for(const g of d)(p=(h=g.fns)[l])==null||p.call(h,...f)};const u=n(o);return typeof u=="function"&&Lr.set(e,u),i}function ct(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:a}));const o=await(n==null?void 0:n(c))??r;await gn(o);const u=async()=>{s&&(await e({unpoll:a}),await gn(r),u())};u()})(),a}function wf(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:i,poll:c,pollingInterval:o=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),l=i??!1;let f;return u?(()=>{const p=de(["watchBlocks",e.uid,t,n,r,l,o]);return ye(p,{onBlock:s,onError:a},g=>ct(async()=>{var m;try{const y=await A(e,re,"getBlock")({blockTag:t,includeTransactions:l});if(y.number&&(f!=null&&f.number)){if(y.number===f.number)return;if(y.number-f.number>1&&n)for(let b=(f==null?void 0:f.number)+1n;b<y.number;b++){const w=await A(e,re,"getBlock")({blockNumber:b,includeTransactions:l});g.onBlock(w,f),f=w}}(!(f!=null&&f.number)||t==="pending"&&!(y!=null&&y.number)||y.number&&y.number>f.number)&&(g.onBlock(y,f),f=y)}catch(y){(m=g.onError)==null||m.call(g,y)}},{emitOnBegin:r,interval:o}))})():(()=>{let p=!0,g=!0,m=()=>p=!1;return(async()=>{try{r&&A(e,re,"getBlock")({blockTag:t,includeTransactions:l}).then(w=>{p&&g&&(s(w,void 0),g=!1)});const y=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(_=>_.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],async onData(w){if(!p)return;const _=await A(e,re,"getBlock")({blockNumber:w.blockNumber,includeTransactions:l}).catch(()=>{});p&&(s(_,f),g=!1,f=_)},onError(w){a==null||a(w)}});m=b,p||m()}catch(y){a==null||a(y)}})(),()=>m()})()}function ga(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:i=e.pollingInterval}){const c=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let o;return c?(()=>{const f=de(["watchBlockNumber",e.uid,t,n,i]);return ye(f,{onBlockNumber:r,onError:s},d=>ct(async()=>{var h;try{const p=await A(e,it,"getBlockNumber")({cacheTime:0});if(o){if(p===o)return;if(p-o>1&&n)for(let g=o+1n;g<p;g++)d.onBlockNumber(g,o),o=g}(!o||p>o)&&(d.onBlockNumber(p,o),o=p)}catch(p){(h=d.onError)==null||h.call(d,p)}},{emitOnBegin:t,interval:i}))})():(()=>{const f=de(["watchBlockNumber",e.uid,t,n]);return ye(f,{onBlockNumber:r,onError:s},d=>{let h=!0,p=()=>h=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(b=>b.config.type==="webSocket");return y?y.value:e.transport}return e.transport})(),{unsubscribe:m}=await g.subscribe({params:["newHeads"],onData(y){var w;if(!h)return;const b=O((w=y.result)==null?void 0:w.number);d.onBlockNumber(b,o),o=b},onError(y){var b;(b=d.onError)==null||b.call(d,y)}});p=m,h||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function $t(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function vf(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:i,onError:c,onLogs:o,poll:u,pollingInterval:l=e.pollingInterval,strict:f}){const d=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),h=f??!1;return d?(()=>{const m=de(["watchEvent",t,n,r,e.uid,s,l,i]);return ye(m,{onLogs:o,onError:c},y=>{let b;i!==void 0&&(b=i-1n);let w,_=!1;const v=ct(async()=>{var E;if(!_){try{w=await A(e,la,"createEventFilter")({address:t,args:n,event:s,events:a,strict:h,fromBlock:i})}catch{}_=!0;return}try{let x;if(w)x=await A(e,Ht,"getFilterChanges")({filter:w});else{const I=await A(e,it,"getBlockNumber")({});b&&b!==I?x=await A(e,or,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:b+1n,toBlock:I}):x=[],b=I}if(x.length===0)return;if(r)y.onLogs(x);else for(const I of x)y.onLogs([I])}catch(x){w&&x instanceof zn&&(_=!1),(E=y.onError)==null||E.call(y,x)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await A(e,$t,"uninstallFilter")({filter:w}),v()}})})():(()=>{let m=!0,y=()=>m=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(x=>x.config.type==="webSocket");return E?E.value:e.transport}return e.transport})(),w=a??(s?[s]:void 0);let _=[];w&&(_=[w.flatMap(x=>Ge({abi:[x],eventName:x.name,args:n}))],s&&(_=_[0]));const{unsubscribe:v}=await b.subscribe({params:["logs",{address:t,topics:_}],onData(E){var I;if(!m)return;const x=E.result;try{const{eventName:P,args:L}=Mt({abi:w??[],data:x.data,topics:x.topics,strict:h}),C=pe(x,{args:L,eventName:P});o([C])}catch(P){let L,C;if(P instanceof Re||P instanceof st){if(f)return;L=P.abiItem.name,C=(I=P.abiItem.inputs)==null?void 0:I.some(M=>!("name"in M&&M.name))}const q=pe(x,{args:C?[]:{},eventName:L});o([q])}},onError(E){c==null||c(E)}});y=v,m||y()}catch(b){c==null||c(b)}})(),()=>y()})()}function Ef(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=de(["watchPendingTransactions",e.uid,t,a]);return ye(u,{onTransactions:r,onError:n},l=>{let f;const d=ct(async()=>{var h;try{if(!f)try{f=await A(e,ha,"createPendingTransactionFilter")({});return}catch(g){throw d(),g}const p=await A(e,Ht,"getFilterChanges")({filter:f});if(p.length===0)return;if(t)l.onTransactions(p);else for(const g of p)l.onTransactions([g])}catch(p){(h=l.onError)==null||h.call(l,p)}},{emitOnBegin:!0,interval:a});return async()=>{f&&await A(e,$t,"uninstallFilter")({filter:f}),d()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const h=d.result;r([h])},onError(d){n==null||n(d)}});l=f,u||l()}catch(f){n==null||n(f)}})(),()=>l()})()}async function xf(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>qn(r))}async function _f(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}function If({chains:e,id:t}){return e.find(n=>n.id===t)}const rn=new Map;async function Pf(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:a}=e,{interval:i=3e4}=typeof n=="object"?n:{},{attempts:c=5,delay:o=2e3}=typeof s=="object"?s:{};let u=rn.get(`${r}:${a}`);if(u)return u;let l=0;const{schedule:f}=so({id:`${r}:${a}`,fn:async()=>{const p=new Map,g=new Map;let m,y,b;async function w(){const _=await t({onClose(){var v,E;for(const x of p.values())(v=x.onError)==null||v.call(x,new Je({url:a}));for(const x of g.values())(E=x.onError)==null||E.call(x,new Je({url:a}));p.clear(),g.clear(),s&&l<c&&setTimeout(async()=>{l++,await w().catch(console.error)},o)},onError(v){var E,x;m=v;for(const I of p.values())(E=I.onError)==null||E.call(I,m);for(const I of g.values())(x=I.onError)==null||x.call(I,m);p.clear(),g.clear(),s&&l<c&&setTimeout(async()=>{l++,await w().catch(console.error)},o)},onOpen(){m=void 0,l=0},onResponse(v){const E=v.method==="eth_subscription",x=E?v.params.subscription:v.id,I=E?g:p,P=I.get(x);P&&P.onResponse(v),E||I.delete(x)}});return y=_,n&&(b&&clearInterval(b),b=setInterval(()=>{var v;return(v=y.ping)==null?void 0:v.call(y)},i)),_}return await w(),m=void 0,u={close(){b&&clearInterval(b),y.close(),rn.delete(`${r}:${a}`)},get socket(){return y},request({body:_,onError:v,onResponse:E}){m&&v&&v(m);const x=_.id??ao.take(),I=P=>{var L;typeof P.id=="number"&&x!==P.id||(_.method==="eth_subscribe"&&typeof P.result=="string"&&g.set(P.result,{onResponse:I,onError:v}),_.method==="eth_unsubscribe"&&g.delete((L=_.params)==null?void 0:L[0]),E(P))};p.set(x,{onResponse:I,onError:v});try{y.request({body:{jsonrpc:"2.0",id:x,..._}})}catch(P){v==null||v(P)}},requestAsync({body:_,timeout:v=1e4}){return Is(()=>new Promise((E,x)=>this.request({body:_,onError:x,onResponse:E})),{errorInstance:new Ps({body:_,url:a}),timeout:v})},requests:p,subscriptions:g,url:a},rn.set(`${r}:${a}`,u),[u]}}),[d,[h]]=await f();return h}async function xt(e,t={}){const{keepAlive:n,reconnect:r}=t;return Pf({async getSocket({onClose:s,onError:a,onOpen:i,onResponse:c}){const o=await rs(()=>import("./native-CJ5et6AR.js"),[]).then(h=>h.WebSocket),u=new o(e);function l(){s(),u.removeEventListener("close",l),u.removeEventListener("message",f),u.removeEventListener("error",a),u.removeEventListener("open",i)}function f({data:h}){c(JSON.parse(h))}u.addEventListener("close",l),u.addEventListener("message",f),u.addEventListener("error",a),u.addEventListener("open",i),u.readyState===o.CONNECTING&&await new Promise((h,p)=>{u&&(u.onopen=h,u.onerror=p)});const{close:d}=u;return Object.assign(u,{close(){d.bind(u)(),s()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new pn({url:u.url,cause:new Je({url:u.url})});const h={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(h))}catch(h){a(h)}},request({body:h}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new pn({body:h,url:u.url,cause:new Je({url:u.url})});return u.send(JSON.stringify(h))}})},keepAlive:n,reconnect:r,url:e})}async function Tf(e){const t=await xt(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function Sf(e){const{abi:t,data:n}=e,r=Pt(n,0,4),s=t.find(a=>a.type==="function"&&r===Tt(At(a)));if(!s)throw new Ts(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?De(s.inputs,Pt(n,4)):void 0}}const sn="/docs/contract/encodeErrorResult";function Bf(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const o=tt({abi:t,args:r,name:n});if(!o)throw new yn(n,{docsPath:sn});s=o}if(s.type!=="error")throw new yn(void 0,{docsPath:sn});const a=At(s),i=Tt(a);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new Ss(s.name,{docsPath:sn});c=nt(s.inputs,r)}return je([i,c])}const an="/docs/contract/encodeFunctionResult";function Af(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=tt({abi:t,name:n});if(!i)throw new bn(n,{docsPath:an});s=i}if(s.type!=="function")throw new bn(void 0,{docsPath:an});if(!s.outputs)throw new Bs(s.name,{docsPath:an});let a=Array.isArray(r)?r:[r];return s.outputs.length===0&&!a[0]&&(a=[]),nt(s.outputs,a)}function Cf(e,t){if(e.length!==t.length)throw new As({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(pa(s,a))}return je(n)}function pa(e,t,n=!1){if(e==="address"){const i=t;if(!Vn(i))throw new Zn({address:i});return We(i.toLowerCase(),{size:n?32:null})}if(e==="string")return Kn(t);if(e==="bytes")return t;if(e==="bool")return We(Cs(t),{size:n?32:1});const r=e.match(vd);if(r){const[i,c,o="256"]=r,u=Number.parseInt(o)/8;return k(t,{size:n?32:u,signed:c==="int"})}const s=e.match(Ed);if(s){const[i,c]=s;if(Number.parseInt(c)!==(t.length-2)/2)throw new ks({expectedSize:Number.parseInt(c),givenSize:(t.length-2)/2});return We(t,{dir:"right",size:n?32:null})}const a=e.match(xd);if(a&&Array.isArray(t)){const[i,c]=a,o=[];for(let u=0;u<t.length;u++)o.push(pa(c,t[u],!0));return o.length===0?"0x":je(o)}throw new Ns(e)}function Tn(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function kf(e){return e.opcode==="CREATE2"?ba(e):ya(e)}function ya(e){const t=ne(se(e.from));let n=ne(e.nonce);return n[0]===0&&(n=new Uint8Array([])),se(`0x${ue(Rn([t,n],"bytes")).slice(26)}`)}function ba(e){const t=ne(se(e.from)),n=We(Tn(e.salt)?e.salt:ne(e.salt),{size:32}),r="bytecodeHash"in e?Tn(e.bytecodeHash)?e.bytecodeHash:ne(e.bytecodeHash):ue(e.bytecode,"bytes");return se(Pt(ue(qs([ne("0xff"),t,n,r])),12))}function ur(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new Rs(e);return be(e)}return e})(),r=wn(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return wa(r,t)}function wa(e,t="hex"){if(e.bytes.length===0)return t==="hex"?_e(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=Mr(e,n,128),a=e.readBytes(s);return t==="hex"?_e(a):a}const r=Mr(e,n,192);return Nf(e,r,t)}function Mr(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new K("Invalid RLP prefix")}function Nf(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(wa(e,n));return s}function va(e){return R(e)&&Dn(e)===32}const qf=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Ea=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),Rf=Ea.map(e=>(9*e+5)%16);let dr=[Ea],fr=[Rf];for(let e=0;e<4;e++)for(let t of[dr,fr])t.push(t[e].map(n=>qf[n]));const xa=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Ff=dr.map((e,t)=>e.map(n=>xa[t][n])),Lf=fr.map((e,t)=>e.map(n=>xa[t][n])),Mf=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Of=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function Or(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const yt=new Uint32Array(16);class Hf extends io{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:a}=this;return[t,n,r,s,a]}set(t,n,r,s,a){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=a|0}process(t,n){for(let h=0;h<16;h++,n+=4)yt[h]=t.getUint32(n,!0);let r=this.h0|0,s=r,a=this.h1|0,i=a,c=this.h2|0,o=c,u=this.h3|0,l=u,f=this.h4|0,d=f;for(let h=0;h<5;h++){const p=4-h,g=Mf[h],m=Of[h],y=dr[h],b=fr[h],w=Ff[h],_=Lf[h];for(let v=0;v<16;v++){const E=gt(r+Or(h,a,c,u)+yt[y[v]]+g,w[v])+f|0;r=f,f=u,u=gt(c,10)|0,c=a,a=E}for(let v=0;v<16;v++){const E=gt(s+Or(p,i,o,l)+yt[b[v]]+m,_[v])+d|0;s=d,d=l,l=gt(o,10)|0,o=i,i=E}}this.set(this.h1+c+l|0,this.h2+u+d|0,this.h3+f+s|0,this.h4+r+i|0,this.h0+a+o|0)}roundClean(){yt.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const $f=oo(()=>new Hf);function jf(e,t){const n=t||"hex",r=$f(R(e,{strict:!1})?ne(e):e);return n==="bytes"?r:qe(r)}async function _a({message:e,signature:t}){return Se({hash:qt(e),signature:t})}async function Ia(e){const{domain:t,message:n,primaryType:r,signature:s,types:a}=e;return Se({hash:Jn({domain:t,message:n,primaryType:r,types:a}),signature:s})}async function Df({address:e,hash:t,signature:n}){return Te(se(e),await Se({hash:t,signature:n}))}async function Uf({address:e,message:t,signature:n}){return Te(se(e),await _a({message:t,signature:n}))}async function Gf(e){const{address:t,domain:n,message:r,primaryType:s,signature:a,types:i}=e;return Te(se(t),await Ia({domain:n,message:r,primaryType:s,signature:a,types:i}))}const Pa="0x6492649264926492649264926492649264926492649264926492649264926492",zf="0x0000000000000000000000000000000000000000000000000000000000000000";function lr(e){return Wn(e,-32)===Pa}function Vf(e){if(!lr(e))return{signature:e};const[t,n,r]=De([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function Ta(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=je([nt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Pa]);return s==="hex"?a:be(a)}function Sa(e){const t=Wn(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&D(t)>=192)return"legacy";throw new Fs({serializedType:t})}function Ba(e){const t=Sa(e);return t==="eip1559"?Wf(e):t==="eip2930"?Yf(e):t==="eip4844"?Kf(e):t==="eip7702"?Zf(e):Jf(e)}function Zf(e){const t=jt(e),[n,r,s,a,i,c,o,u,l,f,d,h,p]=t;if(t.length!==10&&t.length!==13)throw new Ue({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:i,to:c,value:o,data:u,accessList:l,authorizationList:f,...t.length>9?{v:d,r:h,s:p}:{}},serializedTransaction:e,type:"eip7702"});const g={chainId:D(n),type:"eip7702"};return R(c)&&c!=="0x"&&(g.to=c),R(i)&&i!=="0x"&&(g.gas=O(i)),R(u)&&u!=="0x"&&(g.data=u),R(r)&&r!=="0x"&&(g.nonce=D(r)),R(o)&&o!=="0x"&&(g.value=O(o)),R(a)&&a!=="0x"&&(g.maxFeePerGas=O(a)),R(s)&&s!=="0x"&&(g.maxPriorityFeePerGas=O(s)),l.length!==0&&l!=="0x"&&(g.accessList=Dt(l)),f.length!==0&&f!=="0x"&&(g.authorizationList=Xf(f)),co(g),{...t.length===13?ut(t):void 0,...g}}function Kf(e){const t=jt(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[a,i,c,o,u,l,f,d,h,p,g,m,y,b]=r,[w,_,v]=s;if(!(r.length===11||r.length===14))throw new Ue({attributes:{chainId:a,nonce:i,maxPriorityFeePerGas:c,maxFeePerGas:o,gas:u,to:l,value:f,data:d,accessList:h,...r.length>9?{v:m,r:y,s:b}:{}},serializedTransaction:e,type:"eip4844"});const E={blobVersionedHashes:g,chainId:D(a),type:"eip4844"};return R(l)&&l!=="0x"&&(E.to=l),R(u)&&u!=="0x"&&(E.gas=O(u)),R(d)&&d!=="0x"&&(E.data=d),R(i)&&i!=="0x"&&(E.nonce=D(i)),R(f)&&f!=="0x"&&(E.value=O(f)),R(p)&&p!=="0x"&&(E.maxFeePerBlobGas=O(p)),R(o)&&o!=="0x"&&(E.maxFeePerGas=O(o)),R(c)&&c!=="0x"&&(E.maxPriorityFeePerGas=O(c)),h.length!==0&&h!=="0x"&&(E.accessList=Dt(h)),w&&_&&v&&(E.sidecars=Mn({blobs:w,commitments:_,proofs:v})),uo(E),{...r.length===14?ut(r):void 0,...E}}function Wf(e){const t=jt(e),[n,r,s,a,i,c,o,u,l,f,d,h]=t;if(!(t.length===9||t.length===12))throw new Ue({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:i,to:c,value:o,data:u,accessList:l,...t.length>9?{v:f,r:d,s:h}:{}},serializedTransaction:e,type:"eip1559"});const p={chainId:D(n),type:"eip1559"};return R(c)&&c!=="0x"&&(p.to=c),R(i)&&i!=="0x"&&(p.gas=O(i)),R(u)&&u!=="0x"&&(p.data=u),R(r)&&r!=="0x"&&(p.nonce=D(r)),R(o)&&o!=="0x"&&(p.value=O(o)),R(a)&&a!=="0x"&&(p.maxFeePerGas=O(a)),R(s)&&s!=="0x"&&(p.maxPriorityFeePerGas=O(s)),l.length!==0&&l!=="0x"&&(p.accessList=Dt(l)),Ls(p),{...t.length===12?ut(t):void 0,...p}}function Yf(e){const t=jt(e),[n,r,s,a,i,c,o,u,l,f,d]=t;if(!(t.length===8||t.length===11))throw new Ue({attributes:{chainId:n,nonce:r,gasPrice:s,gas:a,to:i,value:c,data:o,accessList:u,...t.length>8?{v:l,r:f,s:d}:{}},serializedTransaction:e,type:"eip2930"});const h={chainId:D(n),type:"eip2930"};return R(i)&&i!=="0x"&&(h.to=i),R(a)&&a!=="0x"&&(h.gas=O(a)),R(o)&&o!=="0x"&&(h.data=o),R(r)&&r!=="0x"&&(h.nonce=D(r)),R(c)&&c!=="0x"&&(h.value=O(c)),R(s)&&s!=="0x"&&(h.gasPrice=O(s)),u.length!==0&&u!=="0x"&&(h.accessList=Dt(u)),Ms(h),{...t.length===11?ut(t):void 0,...h}}function Jf(e){const t=ur(e,"hex"),[n,r,s,a,i,c,o,u,l]=t;if(!(t.length===6||t.length===9))throw new Ue({attributes:{nonce:n,gasPrice:r,gas:s,to:a,value:i,data:c,...t.length>6?{v:o,r:u,s:l}:{}},serializedTransaction:e,type:"legacy"});const f={type:"legacy"};if(R(a)&&a!=="0x"&&(f.to=a),R(s)&&s!=="0x"&&(f.gas=O(s)),R(c)&&c!=="0x"&&(f.data=c),R(n)&&n!=="0x"&&(f.nonce=D(n)),R(i)&&i!=="0x"&&(f.value=O(i)),R(r)&&r!=="0x"&&(f.gasPrice=O(r)),Os(f),t.length===6)return f;const d=R(o)&&o!=="0x"?O(o):0n;if(l==="0x"&&u==="0x")return d>0&&(f.chainId=Number(d)),f;const h=d,p=Number((h-35n)/2n);if(p>0)f.chainId=p;else if(h!==27n&&h!==28n)throw new Hs({v:h});return f.v=h,f.s=l,f.r=u,f.yParity=h%2n===0n?1:0,f}function jt(e){return ur(`0x${e.slice(4)}`,"hex")}function Dt(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!Vn(r,{strict:!1}))throw new Zn({address:r});t.push({address:r,storageKeys:s.map(a=>va(a)?a:$s(a))})}return t}function Xf(e){const t=[];for(let n=0;n<e.length;n++){const[r,s,a,i,c,o]=e[n];t.push({chainId:D(r),contractAddress:s,nonce:D(a),...ut([i,c,o])})}return t}function ut(e){const t=e.slice(-3),n=t[0]==="0x"||O(t[0])===0n?27n:28n;return{r:vn(t[1],{size:32}),s:vn(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class Aa extends K{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function hr(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Aa({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,i,c]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],o=Math.round(+`${i}.${c}`);o>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${o}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function Qf(e,t="wei"){return hr(e,js[t])}function el(e,t="wei"){return hr(e,Ds[t])}function Ca(e){const{source:t}=e,n=new Map,r=new gs(8192),s=new Map,a=({address:i,chainId:c})=>`${i}.${c}`;return{async consume({address:i,chainId:c,client:o}){const u=a({address:i,chainId:c}),l=this.get({address:i,chainId:c,client:o});this.increment({address:i,chainId:c});const f=await l;return await t.set({address:i,chainId:c},f),r.set(u,f),f},async increment({address:i,chainId:c}){const o=a({address:i,chainId:c}),u=n.get(o)??0;n.set(o,u+1)},async get({address:i,chainId:c,client:o}){const u=a({address:i,chainId:c});let l=s.get(u);return l||(l=(async()=>{try{const d=await t.get({address:i,chainId:c,client:o}),h=r.get(u)??0;return h>0&&d<=h?h+1:(r.delete(u),d)}finally{this.reset({address:i,chainId:c})}})(),s.set(u,l)),(n.get(u)??0)+await l},reset({address:i,chainId:c}){const o=a({address:i,chainId:c});n.delete(o),s.delete(o)}}}function tl(){return{async get(e){const{address:t,client:n}=e;return nr(n,{address:t,blockTag:"pending"})},set(){}}}const nl=Ca({source:tl()});function rl(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function sl(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?D(e.nonce):void 0,storageProof:e.storageProof?rl(e.storageProof):void 0}}async function al(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",i=n!==void 0?k(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,i||a]});return sl(c)}async function ol(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:a=6,retryDelay:i=({count:o})=>~~(1<<o)*200,timeout:c=18e4}){const o=de(["waitForTransactionReceipt",e.uid,n]);let u,l,f,d=!1;const{promise:h,resolve:p,reject:g}=fo(),m=c?setTimeout(()=>g(new Us({hash:n})),c):void 0,y=ye(o,{onReplaced:r,resolve:p,reject:g},b=>{const w=A(e,ga,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(_){const v=x=>{clearTimeout(m),w(),x(),y()};let E=_;if(!d)try{if(f){if(t>1&&(!f.blockNumber||E-f.blockNumber+1n<t))return;v(()=>b.resolve(f));return}if(u||(d=!0,await En(async()=>{u=await A(e,cr,"getTransaction")({hash:n}),u.blockNumber&&(E=u.blockNumber)},{delay:i,retryCount:a}),d=!1),f=await A(e,Pn,"getTransactionReceipt")({hash:n}),t>1&&(!f.blockNumber||E-f.blockNumber+1n<t))return;v(()=>b.resolve(f))}catch(x){if(x instanceof Un||x instanceof Gn){if(!u){d=!1;return}try{l=u,d=!0;const I=await En(()=>A(e,re,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:i,retryCount:a,shouldRetry:({error:C})=>C instanceof Qn});d=!1;const P=I.transactions.find(({from:C,nonce:q})=>C===l.from&&q===l.nonce);if(!P||(f=await A(e,Pn,"getTransactionReceipt")({hash:P.hash}),t>1&&(!f.blockNumber||E-f.blockNumber+1n<t)))return;let L="replaced";P.to===l.to&&P.value===l.value?L="repriced":P.from===P.to&&P.value===0n&&(L="cancelled"),v(()=>{var C;(C=b.onReplaced)==null||C.call(b,{reason:L,replacedTransaction:l,transaction:P,transactionReceipt:f}),b.resolve(f)})}catch(I){v(()=>b.reject(I))}}else v(()=>b.reject(x))}}})});return h}async function il(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>se(n))}async function cl(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function ul(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function dl(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function fl(e){return await e.request({method:"txpool_content"})}async function ll(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:D(t),queued:D(n)}}async function hl(e){return await e.request({method:"txpool_inspect"})}async function ml(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function gl(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function pl(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function yl(e,t){var u,l,f,d;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new at({docsPath:"/docs/actions/wallet/signTransaction"});const a=fe(n);Qe({account:a,...t});const i=await A(e,ot,"getChainId")({});r!==null&&Xn({currentChainId:i,chain:r});const c=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),o=((l=c==null?void 0:c.transactionRequest)==null?void 0:l.format)||et;return a.signTransaction?a.signTransaction({...s,chainId:i},{serializer:(d=(f=e.chain)==null?void 0:f.serializers)==null?void 0:d.transaction}):await e.request({method:"eth_signTransaction",params:[{...o(s),chainId:k(i),from:a.address}]},{retryCount:0})}async function bl(e,t){var y,b,w;const{accessList:n,data:r,from:s,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:o,nonce:u,to:l,value:f,...d}=t,h=(w=(b=(y=e.chain)==null?void 0:y.formatters)==null?void 0:b.transactionRequest)==null?void 0:w.format,g=(h||et)({...Ln(d,{format:h}),accessList:n,data:r,from:s,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:o,nonce:u,to:l,value:f});return await e.request({method:"eth_sendUnsignedTransaction",params:[g]})}async function wl(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,k(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,k(n)]})}async function vl(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function El(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[k(t)]})}async function xl(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function _l(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function Il(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function Pl(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function Tl(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function Sl(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[k(t)]})}async function Bl(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[k(t)]})}async function Al(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[k(t)]})}async function Cl(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,k(n)]})}async function kl(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Nl(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?k(n):n,r]})}async function ql(e){return await e.request({method:"evm_snapshot"})}async function Rl(e,{account:t=e.account,message:n}){if(!t)throw new at({docsPath:"/docs/actions/wallet/signMessage"});const r=fe(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Kn(n):n.raw instanceof Uint8Array?qe(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Fl(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new at({docsPath:"/docs/actions/wallet/signTypedData"});const i=fe(n),c={EIP712Domain:ta({domain:r}),...t.types};if(na({domain:r,message:s,primaryType:a,types:c}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:a,types:c});const o=ra({domain:r,message:s,primaryType:a,types:c});return e.request({method:"eth_signTypedData_v4",params:[i.address,o]},{retryCount:0})}async function ka(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:i,...c}=t,o=c.account?fe(c.account):e.account,u=rt({abi:n,args:s,functionName:i});try{const{data:l}=await A(e,Yn,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...c,account:o}),f=Gs({abi:n,args:s,functionName:i,data:l||"0x"}),d=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:f,request:{abi:d,address:r,args:s,dataSuffix:a,functionName:i,...c,account:o}}}catch(l){throw Ct(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:o==null?void 0:o.address})}}async function Ll(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}async function Ml(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:k(t)}]},{retryCount:0})}class Na extends lo{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ho(t);const r=mo(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<a.length;i++)a[i]^=54;this.iHash.update(a),this.oHash=t.create();for(let i=0;i<a.length;i++)a[i]^=106;this.oHash.update(a),a.fill(0)}update(t){return Br(this),this.iHash.update(t),this}digestInto(t){Br(this),go(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:i,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qa=(e,t,n)=>new Na(e,t).update(n).digest();qa.create=(e,t)=>new Na(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mr=BigInt(0),Ut=BigInt(1),Ol=BigInt(2);function Ie(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function dt(e){if(!Ie(e))throw new Error("Uint8Array expected")}function Fe(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}const Hl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Le(e){dt(e);let t="";for(let n=0;n<e.length;n++)t+=Hl[e[n]];return t}function Ne(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function gr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const ae={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Hr(e){if(e>=ae._0&&e<=ae._9)return e-ae._0;if(e>=ae._A&&e<=ae._F)return e-(ae._A-10);if(e>=ae._a&&e<=ae._f)return e-(ae._a-10)}function Me(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const i=Hr(e.charCodeAt(a)),c=Hr(e.charCodeAt(a+1));if(i===void 0||c===void 0){const o=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+o+'" at index '+a)}r[s]=i*16+c}return r}function Ee(e){return gr(Le(e))}function pr(e){return dt(e),gr(Le(Uint8Array.from(e).reverse()))}function Oe(e,t){return Me(e.toString(16).padStart(t*2,"0"))}function yr(e,t){return Oe(e,t).reverse()}function $l(e){return Me(Ne(e))}function ee(e,t,n){let r;if(typeof t=="string")try{r=Me(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(Ie(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function Xe(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];dt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}function jl(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function Dl(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const on=e=>typeof e=="bigint"&&mr<=e;function Gt(e,t,n){return on(e)&&on(t)&&on(n)&&t<=e&&e<n}function xe(e,t,n,r){if(!Gt(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function Ra(e){let t;for(t=0;e>mr;e>>=Ut,t+=1);return t}function Ul(e,t){return e>>BigInt(t)&Ut}function Gl(e,t,n){return e|(n?Ut:mr)<<BigInt(t)}const br=e=>(Ol<<BigInt(e-1))-Ut,cn=e=>new Uint8Array(e),$r=e=>Uint8Array.from(e);function Fa(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=cn(e),s=cn(e),a=0;const i=()=>{r.fill(1),s.fill(0),a=0},c=(...f)=>n(s,r,...f),o=(f=cn())=>{s=c($r([0]),f),r=c(),f.length!==0&&(s=c($r([1]),f),r=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){r=c();const h=r.slice();d.push(h),f+=r.length}return Xe(...d)};return(f,d)=>{i(),o(f);let h;for(;!(h=d(u()));)o();return i(),h}}const zl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ie(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ft(e,t,n={}){const r=(s,a,i)=>{const c=zl[a];if(typeof c!="function")throw new Error(`Invalid validator "${a}", expected function`);const o=e[s];if(!(i&&o===void 0)&&!c(o,e))throw new Error(`Invalid param ${String(s)}=${o} (${typeof o}), expected ${a}`)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}const Vl=()=>{throw new Error("not implemented")};function Sn(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}const Zl=Object.freeze(Object.defineProperty({__proto__:null,aInRange:xe,abool:Fe,abytes:dt,bitGet:Ul,bitLen:Ra,bitMask:br,bitSet:Gl,bytesToHex:Le,bytesToNumberBE:Ee,bytesToNumberLE:pr,concatBytes:Xe,createHmacDrbg:Fa,ensureBytes:ee,equalBytes:jl,hexToBytes:Me,hexToNumber:gr,inRange:Gt,isBytes:Ie,memoized:Sn,notImplemented:Vl,numberToBytesBE:Oe,numberToBytesLE:yr,numberToHexUnpadded:Ne,numberToVarBytesBE:$l,utf8ToBytes:Dl,validateObject:ft},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G=BigInt(0),$=BigInt(1),ve=BigInt(2),Kl=BigInt(3),Bn=BigInt(4),jr=BigInt(5),Dr=BigInt(8);BigInt(9);BigInt(16);function Z(e,t){const n=e%t;return n>=G?n:t+n}function Wl(e,t,n){if(n<=G||t<G)throw new Error("Expected power/modulo > 0");if(n===$)return G;let r=$;for(;t>G;)t&$&&(r=r*e%n),e=e*e%n,t>>=$;return r}function Y(e,t,n){let r=e;for(;t-- >G;)r*=r,r%=n;return r}function An(e,t){if(e===G||t<=G)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Z(e,t),r=t,s=G,a=$;for(;n!==G;){const c=r/n,o=r%n,u=s-a*c;r=n,n=o,s=a,a=u}if(r!==$)throw new Error("invert: does not exist");return Z(s,t)}function Yl(e){const t=(e-$)/ve;let n,r,s;for(n=e-$,r=0;n%ve===G;n/=ve,r++);for(s=ve;s<e&&Wl(s,t,e)!==e-$;s++);if(r===1){const i=(e+$)/Bn;return function(o,u){const l=o.pow(u,i);if(!o.eql(o.sqr(l),u))throw new Error("Cannot find square root");return l}}const a=(n+$)/ve;return function(c,o){if(c.pow(o,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,l=c.pow(c.mul(c.ONE,s),n),f=c.pow(o,a),d=c.pow(o,n);for(;!c.eql(d,c.ONE);){if(c.eql(d,c.ZERO))return c.ZERO;let h=1;for(let g=c.sqr(d);h<u&&!c.eql(g,c.ONE);h++)g=c.sqr(g);const p=c.pow(l,$<<BigInt(u-h-1));l=c.sqr(p),f=c.mul(f,p),d=c.mul(d,l),u=h}return f}}function Jl(e){if(e%Bn===Kl){const t=(e+$)/Bn;return function(r,s){const a=r.pow(s,t);if(!r.eql(r.sqr(a),s))throw new Error("Cannot find square root");return a}}if(e%Dr===jr){const t=(e-jr)/Dr;return function(r,s){const a=r.mul(s,ve),i=r.pow(a,t),c=r.mul(s,i),o=r.mul(r.mul(c,ve),i),u=r.mul(c,r.sub(o,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Yl(e)}const Xl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ql(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Xl.reduce((r,s)=>(r[s]="function",r),t);return ft(e,n)}function eh(e,t,n){if(n<G)throw new Error("Expected power > 0");if(n===G)return e.ONE;if(n===$)return t;let r=e.ONE,s=t;for(;n>G;)n&$&&(r=e.mul(r,s)),s=e.sqr(s),n>>=$;return r}function th(e,t){const n=new Array(t.length),r=t.reduce((a,i,c)=>e.is0(i)?a:(n[c]=a,e.mul(a,i)),e.ONE),s=e.inv(r);return t.reduceRight((a,i,c)=>e.is0(i)?a:(n[c]=e.mul(a,n[c]),e.mul(a,i)),s),n}function La(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ma(e,t,n=!1,r={}){if(e<=G)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=La(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=Jl(e),c=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:br(s),ZERO:G,ONE:$,create:o=>Z(o,e),isValid:o=>{if(typeof o!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof o}`);return G<=o&&o<e},is0:o=>o===G,isOdd:o=>(o&$)===$,neg:o=>Z(-o,e),eql:(o,u)=>o===u,sqr:o=>Z(o*o,e),add:(o,u)=>Z(o+u,e),sub:(o,u)=>Z(o-u,e),mul:(o,u)=>Z(o*u,e),pow:(o,u)=>eh(c,o,u),div:(o,u)=>Z(o*An(u,e),e),sqrN:o=>o*o,addN:(o,u)=>o+u,subN:(o,u)=>o-u,mulN:(o,u)=>o*u,inv:o=>An(o,e),sqrt:r.sqrt||(o=>i(c,o)),invertBatch:o=>th(c,o),cmov:(o,u,l)=>l?u:o,toBytes:o=>n?yr(o,a):Oe(o,a),fromBytes:o=>{if(o.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${o.length}`);return n?pr(o):Ee(o)}});return Object.freeze(c)}function Oa(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ha(e){const t=Oa(e);return t+Math.ceil(t/2)}function nh(e,t,n=!1){const r=e.length,s=Oa(t),a=Ha(t);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const i=n?Ee(e):pr(e),c=Z(i,t-$)+$;return n?yr(c,s):Oe(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rh=BigInt(0),un=BigInt(1),dn=new WeakMap,Ur=new WeakMap;function sh(e,t){const n=(a,i)=>{const c=i.negate();return a?c:i},r=a=>{if(!Number.isSafeInteger(a)||a<=0||a>t)throw new Error(`Wrong window size=${a}, should be [1..${t}]`)},s=a=>{r(a);const i=Math.ceil(t/a)+1,c=2**(a-1);return{windows:i,windowSize:c}};return{constTimeNegate:n,unsafeLadder(a,i){let c=e.ZERO,o=a;for(;i>rh;)i&un&&(c=c.add(o)),o=o.double(),i>>=un;return c},precomputeWindow(a,i){const{windows:c,windowSize:o}=s(i),u=[];let l=a,f=l;for(let d=0;d<c;d++){f=l,u.push(f);for(let h=1;h<o;h++)f=f.add(l),u.push(f);l=f.double()}return u},wNAF(a,i,c){const{windows:o,windowSize:u}=s(a);let l=e.ZERO,f=e.BASE;const d=BigInt(2**a-1),h=2**a,p=BigInt(a);for(let g=0;g<o;g++){const m=g*u;let y=Number(c&d);c>>=p,y>u&&(y-=h,c+=un);const b=m,w=m+Math.abs(y)-1,_=g%2!==0,v=y<0;y===0?f=f.add(n(_,i[b])):l=l.add(n(v,i[w]))}return{p:l,f}},wNAFCached(a,i,c){const o=Ur.get(a)||1;let u=dn.get(a);return u||(u=this.precomputeWindow(a,o),o!==1&&dn.set(a,c(u))),this.wNAF(o,u,i)},setWindowSize(a,i){r(i),Ur.set(a,i),dn.delete(a)}}}function ah(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((l,f)=>{if(!t.isValid(l))throw new Error(`wrong scalar at index ${f}`)}),n.forEach((l,f)=>{if(!(l instanceof e))throw new Error(`wrong point at index ${f}`)});const s=Ra(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,i=(1<<a)-1,c=new Array(i+1).fill(e.ZERO),o=Math.floor((t.BITS-1)/a)*a;let u=e.ZERO;for(let l=o;l>=0;l-=a){c.fill(e.ZERO);for(let d=0;d<r.length;d++){const h=r[d],p=Number(h>>BigInt(l)&BigInt(i));c[p]=c[p].add(n[d])}let f=e.ZERO;for(let d=c.length-1,h=e.ZERO;d>0;d--)h=h.add(c[d]),f=f.add(h);if(u=u.add(f),l!==0)for(let d=0;d<a;d++)u=u.double()}return u}function $a(e){return Ql(e.Fp),ft(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...La(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Gr(e){e.lowS!==void 0&&Fe("lowS",e.lowS),e.prehash!==void 0&&Fe("prehash",e.prehash)}function oh(e){const t=$a(e);ft(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:ih,hexToBytes:ch}=Zl,ie={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:n}=ie;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Ne(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Ne(s.length/2|128):"";return`${Ne(e)}${a}${s}${t}`},decode(e,t){const{Err:n}=ie;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let i=0;if(!a)i=s;else{const o=s&127;if(!o)throw new n("tlv.decode(long): indefinite length not supported");if(o>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+o);if(u.length!==o)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)i=i<<8|l;if(r+=o,i<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+i);if(c.length!==i)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=ie;if(e<ce)throw new t("integer: negative integers are not allowed");let n=Ne(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=ie;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return ih(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ie,s=typeof e=="string"?ch(e):e;dt(s);const{v:a,l:i}=r.decode(48,s);if(i.length)throw new t("Invalid signature: left bytes after parsing");const{v:c,l:o}=r.decode(2,a),{v:u,l}=r.decode(2,o);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ie,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},ce=BigInt(0),U=BigInt(1);BigInt(2);const zr=BigInt(3);BigInt(4);function uh(e){const t=oh(e),{Fp:n}=t,r=Ma(t.n,t.nBitLength),s=t.toBytes||((g,m,y)=>{const b=m.toAffine();return Xe(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),a=t.fromBytes||(g=>{const m=g.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),b=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function i(g){const{a:m,b:y}=t,b=n.sqr(g),w=n.mul(b,g);return n.add(n.add(w,n.mul(g,m)),y)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function c(g){return Gt(g,U,t.n)}function o(g){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:b,n:w}=t;if(m&&typeof g!="bigint"){if(Ie(g)&&(g=Le(g)),typeof g!="string"||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(y*2,"0")}let _;try{_=typeof g=="bigint"?g:Ee(ee("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return b&&(_=Z(_,w)),xe("private key",_,U,w),_}function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}const l=Sn((g,m)=>{const{px:y,py:b,pz:w}=g;if(n.eql(w,n.ONE))return{x:y,y:b};const _=g.is0();m==null&&(m=_?n.ONE:n.inv(w));const v=n.mul(y,m),E=n.mul(b,m),x=n.mul(w,m);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(x,n.ONE))throw new Error("invZ was invalid");return{x:v,y:E}}),f=Sn(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=g.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),w=i(m);if(!n.eql(b,w))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(m,y,b){if(this.px=m,this.py=y,this.pz=b,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x:y,y:b}=m||{};if(!m||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const w=_=>n.eql(_,n.ZERO);return w(y)&&w(b)?d.ZERO:new d(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(b=>b.pz));return m.map((b,w)=>b.toAffine(y[w])).map(d.fromAffine)}static fromHex(m){const y=d.fromAffine(a(ee("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return d.BASE.multiply(o(m))}static msm(m,y){return ah(d,r,m,y)}_setWindowSize(m){p.setWindowSize(this,m)}assertValidity(){f(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);const{px:y,py:b,pz:w}=this,{px:_,py:v,pz:E}=m,x=n.eql(n.mul(y,E),n.mul(_,w)),I=n.eql(n.mul(b,E),n.mul(v,w));return x&&I}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=t,b=n.mul(y,zr),{px:w,py:_,pz:v}=this;let E=n.ZERO,x=n.ZERO,I=n.ZERO,P=n.mul(w,w),L=n.mul(_,_),C=n.mul(v,v),q=n.mul(w,_);return q=n.add(q,q),I=n.mul(w,v),I=n.add(I,I),E=n.mul(m,I),x=n.mul(b,C),x=n.add(E,x),E=n.sub(L,x),x=n.add(L,x),x=n.mul(E,x),E=n.mul(q,E),I=n.mul(b,I),C=n.mul(m,C),q=n.sub(P,C),q=n.mul(m,q),q=n.add(q,I),I=n.add(P,P),P=n.add(I,P),P=n.add(P,C),P=n.mul(P,q),x=n.add(x,P),C=n.mul(_,v),C=n.add(C,C),P=n.mul(C,q),E=n.sub(E,P),I=n.mul(C,L),I=n.add(I,I),I=n.add(I,I),new d(E,x,I)}add(m){u(m);const{px:y,py:b,pz:w}=this,{px:_,py:v,pz:E}=m;let x=n.ZERO,I=n.ZERO,P=n.ZERO;const L=t.a,C=n.mul(t.b,zr);let q=n.mul(y,_),M=n.mul(b,v),T=n.mul(w,E),S=n.add(y,b),B=n.add(_,v);S=n.mul(S,B),B=n.add(q,M),S=n.sub(S,B),B=n.add(y,w);let N=n.add(_,E);return B=n.mul(B,N),N=n.add(q,T),B=n.sub(B,N),N=n.add(b,w),x=n.add(v,E),N=n.mul(N,x),x=n.add(M,T),N=n.sub(N,x),P=n.mul(L,B),x=n.mul(C,T),P=n.add(x,P),x=n.sub(M,P),P=n.add(M,P),I=n.mul(x,P),M=n.add(q,q),M=n.add(M,q),T=n.mul(L,T),B=n.mul(C,B),M=n.add(M,T),T=n.sub(q,T),T=n.mul(L,T),B=n.add(B,T),q=n.mul(M,B),I=n.add(I,q),q=n.mul(N,B),x=n.mul(S,x),x=n.sub(x,q),q=n.mul(S,M),P=n.mul(N,P),P=n.add(P,q),new d(x,I,P)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return p.wNAFCached(this,m,d.normalizeZ)}multiplyUnsafe(m){xe("scalar",m,ce,t.n);const y=d.ZERO;if(m===ce)return y;if(m===U)return this;const{endo:b}=t;if(!b)return p.unsafeLadder(this,m);let{k1neg:w,k1:_,k2neg:v,k2:E}=b.splitScalar(m),x=y,I=y,P=this;for(;_>ce||E>ce;)_&U&&(x=x.add(P)),E&U&&(I=I.add(P)),P=P.double(),_>>=U,E>>=U;return w&&(x=x.negate()),v&&(I=I.negate()),I=new d(n.mul(I.px,b.beta),I.py,I.pz),x.add(I)}multiply(m){const{endo:y,n:b}=t;xe("scalar",m,U,b);let w,_;if(y){const{k1neg:v,k1:E,k2neg:x,k2:I}=y.splitScalar(m);let{p:P,f:L}=this.wNAF(E),{p:C,f:q}=this.wNAF(I);P=p.constTimeNegate(v,P),C=p.constTimeNegate(x,C),C=new d(n.mul(C.px,y.beta),C.py,C.pz),w=P.add(C),_=L.add(q)}else{const{p:v,f:E}=this.wNAF(m);w=v,_=E}return d.normalizeZ([w,_])[0]}multiplyAndAddUnsafe(m,y,b){const w=d.BASE,_=(E,x)=>x===ce||x===U||!E.equals(w)?E.multiplyUnsafe(x):E.multiply(x),v=_(this,y).add(_(m,b));return v.is0()?void 0:v}toAffine(m){return l(this,m)}isTorsionFree(){const{h:m,isTorsionFree:y}=t;if(m===U)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=t;return m===U?this:y?y(d,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return Fe("isCompressed",m),this.assertValidity(),s(d,this,m)}toHex(m=!0){return Fe("isCompressed",m),Le(this.toRawBytes(m))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=sh(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:o,weierstrassEquation:i,isWithinCurveOrder:c}}function dh(e){const t=$a(e);return ft(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function fh(e){const t=dh(e),{Fp:n,n:r}=t,s=n.BYTES+1,a=2*n.BYTES+1;function i(T){return Z(T,r)}function c(T){return An(T,r)}const{ProjectivePoint:o,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=uh({...t,toBytes(T,S,B){const N=S.toAffine(),F=n.toBytes(N.x),H=Xe;return Fe("isCompressed",B),B?H(Uint8Array.from([S.hasEvenY()?2:3]),F):H(Uint8Array.from([4]),F,n.toBytes(N.y))},fromBytes(T){const S=T.length,B=T[0],N=T.subarray(1);if(S===s&&(B===2||B===3)){const F=Ee(N);if(!Gt(F,U,n.ORDER))throw new Error("Point is not on curve");const H=l(F);let z;try{z=n.sqrt(H)}catch(X){const he=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+he)}const V=(z&U)===U;return(B&1)===1!==V&&(z=n.neg(z)),{x:F,y:z}}else if(S===a&&B===4){const F=n.fromBytes(N.subarray(0,n.BYTES)),H=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:F,y:H}}else throw new Error(`Point of length ${S} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}}),d=T=>Le(Oe(T,t.nByteLength));function h(T){const S=r>>U;return T>S}function p(T){return h(T)?i(-T):T}const g=(T,S,B)=>Ee(T.slice(S,B));class m{constructor(S,B,N){this.r=S,this.s=B,this.recovery=N,this.assertValidity()}static fromCompact(S){const B=t.nByteLength;return S=ee("compactSignature",S,B*2),new m(g(S,0,B),g(S,B,2*B))}static fromDER(S){const{r:B,s:N}=ie.toSig(ee("DER",S));return new m(B,N)}assertValidity(){xe("r",this.r,U,r),xe("s",this.s,U,r)}addRecoveryBit(S){return new m(this.r,this.s,S)}recoverPublicKey(S){const{r:B,s:N,recovery:F}=this,H=E(ee("msgHash",S));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const z=F===2||F===3?B+t.n:B;if(z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=F&1?"03":"02",le=o.fromHex(V+d(z)),X=c(z),he=i(-H*X),Ze=i(N*X),me=o.BASE.multiplyAndAddUnsafe(le,he,Ze);if(!me)throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Me(this.toDERHex())}toDERHex(){return ie.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Me(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const y={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=Ha(t.n);return nh(t.randomBytes(T),t.n)},precompute(T=8,S=o.BASE){return S._setWindowSize(T),S.multiply(BigInt(3)),S}};function b(T,S=!0){return o.fromPrivateKey(T).toRawBytes(S)}function w(T){const S=Ie(T),B=typeof T=="string",N=(S||B)&&T.length;return S?N===s||N===a:B?N===2*s||N===2*a:T instanceof o}function _(T,S,B=!0){if(w(T))throw new Error("first arg must be private key");if(!w(S))throw new Error("second arg must be public key");return o.fromHex(S).multiply(u(T)).toRawBytes(B)}const v=t.bits2int||function(T){const S=Ee(T),B=T.length*8-t.nBitLength;return B>0?S>>BigInt(B):S},E=t.bits2int_modN||function(T){return i(v(T))},x=br(t.nBitLength);function I(T){return xe(`num < 2^${t.nBitLength}`,T,ce,x),Oe(T,t.nByteLength)}function P(T,S,B=L){if(["recovered","canonical"].some(we=>we in B))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:F}=t;let{lowS:H,prehash:z,extraEntropy:V}=B;H==null&&(H=!0),T=ee("msgHash",T),Gr(B),z&&(T=ee("prehashed msgHash",N(T)));const le=E(T),X=u(S),he=[I(X),I(le)];if(V!=null&&V!==!1){const we=V===!0?F(n.BYTES):V;he.push(ee("extraEntropy",we))}const Ze=Xe(...he),me=le;function Qt(we){const Be=v(we);if(!f(Be))return;const _r=c(Be),Ae=o.BASE.multiply(Be).toAffine(),Q=i(Ae.x);if(Q===ce)return;const Ce=i(_r*i(me+Q*X));if(Ce===ce)return;let Ir=(Ae.x===Q?0:2)|Number(Ae.y&U),Pr=Ce;return H&&h(Ce)&&(Pr=p(Ce),Ir^=1),new m(Q,Pr,Ir)}return{seed:Ze,k2sig:Qt}}const L={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function q(T,S,B=L){const{seed:N,k2sig:F}=P(T,S,B),H=t;return Fa(H.hash.outputLen,H.nByteLength,H.hmac)(N,F)}o.BASE._setWindowSize(8);function M(T,S,B,N=C){var Ae;const F=T;if(S=ee("msgHash",S),B=ee("publicKey",B),"strict"in N)throw new Error("options.strict was renamed to lowS");Gr(N);const{lowS:H,prehash:z}=N;let V,le;try{if(typeof F=="string"||Ie(F))try{V=m.fromDER(F)}catch(Q){if(!(Q instanceof ie.Err))throw Q;V=m.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:Q,s:Ce}=F;V=new m(Q,Ce)}else throw new Error("PARSE");le=o.fromHex(B)}catch(Q){if(Q.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&V.hasHighS())return!1;z&&(S=t.hash(S));const{r:X,s:he}=V,Ze=E(S),me=c(he),Qt=i(Ze*me),we=i(X*me),Be=(Ae=o.BASE.multiplyAndAddUnsafe(le,Qt,we))==null?void 0:Ae.toAffine();return Be?i(Be.x)===X:!1}return{CURVE:t,getPublicKey:b,getSharedSecret:_,sign:q,verify:M,ProjectivePoint:o,Signature:m,utils:y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lh(e){return{hash:e,hmac:(t,...n)=>qa(e,t,po(...n)),randomBytes:yo}}function hh(e,t){const n=r=>fh({...e,...lh(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ja=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Vr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mh=BigInt(1),Cn=BigInt(2),Zr=(e,t)=>(e+t/Cn)/t;function gh(e){const t=ja,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),c=BigInt(44),o=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=Y(l,n,t)*l%t,d=Y(f,n,t)*l%t,h=Y(d,Cn,t)*u%t,p=Y(h,s,t)*h%t,g=Y(p,a,t)*p%t,m=Y(g,c,t)*g%t,y=Y(m,o,t)*m%t,b=Y(y,c,t)*g%t,w=Y(b,n,t)*l%t,_=Y(w,i,t)*p%t,v=Y(_,r,t)*u%t,E=Y(v,Cn,t);if(!kn.eql(kn.sqr(E),e))throw new Error("Cannot find square root");return E}const kn=Ma(ja,void 0,void 0,{sqrt:gh}),ze=hh({a:BigInt(0),b:BigInt(7),Fp:kn,n:Vr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Vr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-mh*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),c=Zr(a*e,t),o=Zr(-r*e,t);let u=Z(e-c*n-o*s,t),l=Z(-c*r-o*a,t);const f=u>i,d=l>i;if(f&&(u=t-u),d&&(l=t-l),u>i||l>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},bo);BigInt(0);ze.ProjectivePoint;const ph=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ze},Symbol.toStringTag,{value:"Module"}));function Nn({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new ze.Signature(O(e),O(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?i:be(i)}async function wr(e,t){var f,d,h;const{address:n,factory:r,factoryData:s,hash:a,signature:i,universalSignatureVerifierAddress:c=(h=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.universalSignatureVerifier)==null?void 0:h.address,...o}=t,u=R(i)?i:typeof i=="object"&&"r"in i&&"s"in i?Nn(i):_e(i),l=await(async()=>!r&&!s||lr(u)?u:Ta({address:r,data:s,signature:u}))();try{const p=c?{to:c,data:rt({abi:xn,functionName:"isValidSig",args:[n,a,l]}),...o}:{data:On({abi:xn,args:[n,a,l],bytecode:zs}),...o},{data:g}=await A(e,Yn,"call")(p);return Vs(g??"0x0")}catch(p){try{if(Te(se(n),await Se({hash:a,signature:i})))return!0}catch{}if(p instanceof Zs)return!1;throw p}}async function yh(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...i}){const c=qt(n);return wr(e,{address:t,factory:r,factoryData:s,hash:c,signature:a,...i})}async function bh(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:i,primaryType:c,types:o,domain:u,...l}=t,f=Jn({message:i,primaryType:c,types:o,domain:u});return wr(e,{address:n,factory:r,factoryData:s,hash:f,signature:a,...l})}async function wh(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Da(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:i,fromBlock:c,onError:o,onLogs:u,poll:l,pollingInterval:f=e.pollingInterval,strict:d}=t;return(typeof l<"u"?l:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const m=d??!1,y=de(["watchContractEvent",r,s,a,e.uid,i,f,m,c]);return ye(y,{onLogs:u,onError:o},b=>{let w;c!==void 0&&(w=c-1n);let _,v=!1;const E=ct(async()=>{var x;if(!v){try{_=await A(e,ar,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:m,fromBlock:c})}catch{}v=!0;return}try{let I;if(_)I=await A(e,Ht,"getFilterChanges")({filter:_});else{const P=await A(e,it,"getBlockNumber")({});w&&w<P?I=await A(e,ir,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:P,strict:m}):I=[],w=P}if(I.length===0)return;if(a)b.onLogs(I);else for(const P of I)b.onLogs([P])}catch(I){_&&I instanceof zn&&(v=!1),(x=b.onError)==null||x.call(b,I)}},{emitOnBegin:!0,interval:f});return async()=>{_&&await A(e,$t,"uninstallFilter")({filter:_}),E()}})})():(()=>{const m=d??!1,y=de(["watchContractEvent",r,s,a,e.uid,i,f,m]);let b=!0,w=()=>b=!1;return ye(y,{onLogs:u,onError:o},_=>((async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(P=>P.config.type==="webSocket");return I?I.value:e.transport}return e.transport})(),E=i?Ge({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await v.subscribe({params:["logs",{address:r,topics:E}],onData(I){var L;if(!b)return;const P=I.result;try{const{eventName:C,args:q}=Mt({abi:n,data:P.data,topics:P.topics,strict:d}),M=pe(P,{args:q,eventName:C});_.onLogs([M])}catch(C){let q,M;if(C instanceof Re||C instanceof st){if(d)return;q=C.abiItem.name,M=(L=C.abiItem.inputs)==null?void 0:L.some(S=>!("name"in S&&S.name))}const T=pe(P,{args:M?[]:{},eventName:q});_.onLogs([T])}},onError(I){var P;(P=_.onError)==null||P.call(_,I)}});w=x,b||w()}catch(v){o==null||o(v)}})(),()=>w()))})()}async function Ua(e,t){const{abi:n,account:r=e.account,address:s,args:a,dataSuffix:i,functionName:c,...o}=t;if(typeof r>"u")throw new at({docsPath:"/docs/contract/writeContract"});const u=r?fe(r):null,l=rt({abi:n,args:a,functionName:c});try{return await A(e,sr,"sendTransaction")({data:`${l}${i?i.replace("0x",""):""}`,to:s,account:u,...o})}catch(f){throw Ct(f,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:c,sender:u==null?void 0:u.address})}}function vh({abi:e,address:t,client:n}){const r=n,[s,a]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],i=s!=null,c=a!=null,o={};let u=!1,l=!1,f=!1;for(const d of e)if(d.type==="function"?d.stateMutability==="view"||d.stateMutability==="pure"?u=!0:l=!0:d.type==="event"&&(f=!0),u&&l&&f)break;return i&&(u&&(o.read=new Proxy({},{get(d,h){return(...p)=>{const{args:g,options:m}=bt(p);return A(s,Bt,"readContract")({abi:e,address:t,functionName:h,args:g,...m})}}})),l&&(o.simulate=new Proxy({},{get(d,h){return(...p)=>{const{args:g,options:m}=bt(p);return A(s,ka,"simulateContract")({abi:e,address:t,functionName:h,args:g,...m})}}})),f&&(o.createEventFilter=new Proxy({},{get(d,h){return(...p)=>{const g=e.find(b=>b.type==="event"&&b.name===h),{args:m,options:y}=fn(p,g);return A(s,ar,"createContractEventFilter")({abi:e,address:t,eventName:h,args:m,...y})}}}),o.getEvents=new Proxy({},{get(d,h){return(...p)=>{const g=e.find(b=>b.type==="event"&&b.name===h),{args:m,options:y}=fn(p,g);return A(s,ir,"getContractEvents")({abi:e,address:t,eventName:h,args:m,...y})}}}),o.watchEvent=new Proxy({},{get(d,h){return(...p)=>{const g=e.find(b=>b.type==="event"&&b.name===h),{args:m,options:y}=fn(p,g);return A(s,Da,"watchContractEvent")({abi:e,address:t,eventName:h,args:m,...y})}}}))),c&&l&&(o.write=new Proxy({},{get(d,h){return(...p)=>{const{args:g,options:m}=bt(p);return A(a,Ua,"writeContract")({abi:e,address:t,functionName:h,args:g,...m})}}})),(i||c)&&l&&(o.estimateGas=new Proxy({},{get(d,h){return(...p)=>{const{args:g,options:m}=bt(p);return A(s??a,ma,"estimateContractGas")({abi:e,address:t,functionName:h,args:g,...m,account:m.account??a.account})}}})),o.address=t,o.abi=e,o}function bt(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function fn(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}function Eh(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>kt({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})}function xh(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:a,retryDelay:i}=t;return({chain:c,pollingInterval:o=4e3,timeout:u,...l})=>{let f=e,d=()=>{};const h=kt({key:n,name:r,async request({method:p,params:g}){const m=async(y=0)=>{const b=f[y]({...l,chain:c,retryCount:0,timeout:u});try{const w=await b.request({method:p,params:g});return d({method:p,params:g,response:w,transport:b,status:"success"}),w}catch(w){if(d({error:w,method:p,params:g,transport:b,status:"error"}),_h(w)||y===f.length-1)throw w;return m(y+1)}};return m()},retryCount:a,retryDelay:i,type:"fallback"},{onResponse:p=>d=p,transports:f.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};Ih({chain:c,interval:p.interval??o,onTransports:g=>f=g,sampleCount:p.sampleCount,timeout:p.timeout,transports:f,weights:p.weights})}return h}}function _h(e){return"code"in e&&typeof e.code=="number"&&(e.code===Ks.code||e.code===Ws.code||e.code===5e3)}function Ih({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:a,weights:i={}}){const{stability:c=.7,latency:o=.3}=i,u=[],l=async()=>{const f=await Promise.all(a.map(async p=>{const g=p({chain:e,retryCount:0,timeout:s}),m=Date.now();let y,b;try{await g.request({method:"net_listening"}),b=1}catch{b=0}finally{y=Date.now()}return{latency:y-m,success:b}}));u.push(f),u.length>r&&u.shift();const d=Math.max(...u.map(p=>Math.max(...p.map(({latency:g})=>g)))),h=a.map((p,g)=>{const m=u.map(v=>v[g].latency),b=1-m.reduce((v,E)=>v+E,0)/m.length/d,w=u.map(v=>v[g].success),_=w.reduce((v,E)=>v+E,0)/w.length;return _===0?[0,g]:[o*b+c*_,g]}).sort((p,g)=>g[0]-p[0]);n(h.map(([,p])=>a[p])),await gn(t),l()};l()}function Ph(e){var f,d,h;const{scheme:t,statement:n,...r}=((f=e.match(Th))==null?void 0:f.groups)??{},{chainId:s,expirationTime:a,issuedAt:i,notBefore:c,requestId:o,...u}=((d=e.match(Sh))==null?void 0:d.groups)??{},l=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...i?{issuedAt:new Date(i)}:{},...c?{notBefore:new Date(c)}:{},...o?{requestId:o}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Th=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Sh=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Bh(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||t&&!Te(r.address,t))return!1}catch{return!1}return!0}async function Ah(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:i,signature:c,time:o=new Date,...u}=t,l=Ph(s);if(!l.address||!Bh({address:n,domain:r,message:l,nonce:a,scheme:i,time:o}))return!1;const d=qt(s);return wr(e,{address:l.address,hash:d,signature:c,...u})}function Ga(e){return{call:t=>Yn(e,t),createBlockFilter:()=>Kd(e),createContractEventFilter:t=>ar(e,t),createEventFilter:t=>la(e,t),createPendingTransactionFilter:()=>ha(e),estimateContractGas:t=>ma(e,t),estimateGas:t=>tr(e,t),getBalance:t=>ds(e,t),getBlobBaseFee:()=>Yd(e),getBlock:t=>re(e,t),getBlockNumber:t=>it(e,t),getBlockTransactionCount:t=>nf(e,t),getBytecode:t=>Rr(e,t),getChainId:()=>ot(e),getCode:t=>Rr(e,t),getContractEvents:t=>ir(e,t),getEip712Domain:t=>of(e,t),getEnsAddress:t=>wo(e,t),getEnsAvatar:t=>vo(e,t),getEnsName:t=>Eo(e,t),getEnsResolver:t=>Zd(e,t),getEnsText:t=>xo(e,t),getFeeHistory:t=>df(e,t),estimateFeesPerGas:t=>jd(e,t),getFilterChanges:t=>Ht(e,t),getFilterLogs:t=>ff(e,t),getGasPrice:()=>er(e),getLogs:t=>or(e,t),getProof:t=>al(e,t),estimateMaxPriorityFeePerGas:t=>$d(e,t),getStorageAt:t=>lf(e,t),getTransaction:t=>cr(e,t),getTransactionConfirmations:t=>hf(e,t),getTransactionCount:t=>nr(e,t),getTransactionReceipt:t=>Pn(e,t),multicall:t=>_o(e,t),prepareTransactionRequest:t=>Ft(e,t),readContract:t=>Bt(e,t),sendRawTransaction:t=>rr(e,t),simulateContract:t=>ka(e,t),verifyMessage:t=>yh(e,t),verifySiweMessage:t=>Ah(e,t),verifyTypedData:t=>bh(e,t),uninstallFilter:t=>$t(e,t),waitForTransactionReceipt:t=>ol(e,t),watchBlocks:t=>wf(e,t),watchBlockNumber:t=>ga(e,t),watchContractEvent:t=>Da(e,t),watchEvent:t=>vf(e,t),watchPendingTransactions:t=>Ef(e,t)}}function Ch(e){const{key:t="public",name:n="Public Client"}=e;return Nt({...e,key:t,name:n,type:"publicClient"}).extend(Ga)}function za({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>ul(n,r),dumpState:()=>Wd(n),getAutomine:()=>dl(n),getTxpoolContent:()=>fl(n),getTxpoolStatus:()=>ll(n),impersonateAccount:r=>mf(n,r),increaseTime:r=>gf(n,r),inspectTxpool:()=>hl(n),loadState:r=>pf(n,r),mine:r=>yf(n,r),removeBlockTimestampInterval:()=>ml(n),reset:r=>gl(n,r),revert:r=>pl(n,r),sendUnsignedTransaction:r=>bl(n,r),setAutomine:r=>vl(n,r),setBalance:r=>wl(n,r),setBlockGasLimit:r=>El(n,r),setBlockTimestampInterval:r=>xl(n,r),setCode:r=>_l(n,r),setCoinbase:r=>Il(n,r),setIntervalMining:r=>Pl(n,r),setLoggingEnabled:r=>Tl(n,r),setMinGasPrice:r=>Sl(n,r),setNextBlockBaseFeePerGas:r=>Bl(n,r),setNextBlockTimestamp:r=>Al(n,r),setNonce:r=>Cl(n,r),setRpcUrl:r=>kl(n,r),setStorageAt:r=>Nl(n,r),snapshot:()=>ql(n),stopImpersonatingAccount:r=>Ll(n,r)}}}function kh(e){const{key:t="test",name:n="Test Client",mode:r}=e;return Nt({...e,key:t,name:n,type:"testClient"}).extend(a=>({mode:r,...za({mode:r})(a)}))}function Va(e){return{addChain:t=>Ld(e,t),deployContract:t=>Ud(e,t),getAddresses:()=>xf(e),getChainId:()=>ot(e),getPermissions:()=>_f(e),prepareTransactionRequest:t=>Ft(e,t),requestAddresses:()=>il(e),requestPermissions:t=>cl(e,t),sendRawTransaction:t=>rr(e,t),sendTransaction:t=>sr(e,t),signMessage:t=>Rl(e,t),signTransaction:t=>yl(e,t),signTypedData:t=>Fl(e,t),switchChain:t=>Ml(e,t),watchAsset:t=>wh(e,t),writeContract:t=>Ua(e,t)}}function Nh(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Nt({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Va)}function qh(e,t={}){const{keepAlive:n,key:r="webSocket",name:s="WebSocket JSON-RPC",reconnect:a,retryDelay:i}=t;return({chain:c,retryCount:o,timeout:u})=>{var h;const l=t.retryCount??o,f=u??t.timeout??1e4,d=e||((h=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:h[0]);if(!d)throw new Ys;return kt({key:r,name:s,async request({method:p,params:g}){const m={method:p,params:g},y=await xt(d,{keepAlive:n,reconnect:a}),{error:b,result:w}=await y.requestAsync({body:m,timeout:f});if(b)throw new Js({body:m,error:b,url:d});return w},retryCount:l,retryDelay:i,timeout:f,type:"webSocket"},{getSocket(){return Tf(d)},getRpcClient(){return xt(d)},async subscribe({params:p,onData:g,onError:m}){const y=await xt(d),{result:b}=await new Promise((w,_)=>y.request({body:{method:"eth_subscribe",params:p},onError(v){_(v),m==null||m(v)},onResponse(v){if(v.error){_(v.error),m==null||m(v.error);return}if(typeof v.id=="number"){w(v);return}v.method==="eth_subscription"&&g(v.params)}}));return{subscriptionId:b,async unsubscribe(){return new Promise(w=>y.request({body:{method:"eth_unsubscribe",params:[b]},onResponse:w}))}}}})}}const Rh="0x0000000000000000000000000000000000000000";class Fh extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const ln="/docs/contract/decodeDeployData";function Lh(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Xs({docsPath:ln});if(!("inputs"in s))throw new _n({docsPath:ln});if(!s.inputs||s.inputs.length===0)throw new _n({docsPath:ln});return{args:De(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function Mh({r:e,yParityAndS:t}){const n=be(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:_e(s),yParity:r}}function Kr(e){const{r:t,s:n}=ze.Signature.fromCompact(e.slice(2,130));return{r:k(t,{size:32}),yParityAndS:k(n,{size:32})}}function Wr(e){const{r:t,s:n}=ze.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:k(t,{size:32}),s:k(n,{size:32}),v:s,yParity:a}:{r:k(t,{size:32}),s:k(n,{size:32}),yParity:a}}async function Oh(e){const{serializedTransaction:t,signature:n}=e,r=Ba(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},a=Qs({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Se({hash:ue(a),signature:s})}function Hh(e){const{r:t,s:n,v:r,yParity:s}=e,a=Number(s??r-27n);let i=n;if(a===1){const c=be(n);c[0]|=128,i=_e(c)}return{r:t,yParityAndS:i}}function Yr({r:e,yParityAndS:t}){return`0x${new ze.Signature(O(e),O(t)).toCompactHex()}`}function $h(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:a}of t)s.push(ea({commitment:a,to:r,version:n}));return s}function jh(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(c=>be(c)):e.blobs,r=n.reduce((c,o)=>c+o.length,0),s=wn(new Uint8Array(r));let a=!0;for(const c of n){const o=wn(c);for(;a&&o.position<c.length;){o.incrementPosition(1);let u=31;c.length-o.position<31&&(u=c.length-o.position);for(const l in Array.from({length:u})){const f=o.readByte();if(f===128&&!o.inspectBytes(o.remaining).includes(128)){a=!1;break}s.pushByte(f)}}}const i=s.bytes.slice(0,s.position);return t==="hex"?_e(i):i}function Za({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function Dh(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return Za(e)}const Uh=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:Xs,AbiConstructorParamsNotFoundError:_n,AbiDecodingDataSizeInvalidError:Io,AbiDecodingDataSizeTooSmallError:Es,AbiDecodingZeroDataError:Po,AbiEncodingArrayLengthMismatchError:To,AbiEncodingBytesSizeMismatchError:So,AbiEncodingLengthMismatchError:As,AbiErrorInputsNotFoundError:Ss,AbiErrorNotFoundError:yn,AbiErrorSignatureNotFoundError:Bo,AbiEventNotFoundError:mn,AbiEventSignatureEmptyTopicsError:vs,AbiEventSignatureNotFoundError:jn,AbiFunctionNotFoundError:bn,AbiFunctionOutputsNotFoundError:Bs,AbiFunctionSignatureNotFoundError:Ts,AccountStateConflictError:Ao,BaseError:K,BaseFeeScalarError:oa,BlockNotFoundError:Qn,BytesSizeMismatchError:ks,CallExecutionError:Zs,ChainDisconnectedError:Co,ChainDoesNotSupportContract:ko,ChainMismatchError:as,ChainNotFoundError:ss,CircularReferenceError:No,ClientChainNotConfiguredError:qo,ContractFunctionExecutionError:Ro,ContractFunctionRevertedError:Fo,ContractFunctionZeroDataError:Lo,CounterfactualDeploymentFailedError:Mo,DecodeLogDataMismatch:Re,DecodeLogTopicsMismatch:st,EIP1193ProviderRpcError:Fh,Eip1559FeesNotSupportedError:Rt,EnsAvatarInvalidNftUriError:Oo,EnsAvatarUnsupportedNamespaceError:Ho,EnsAvatarUriResolutionError:$o,EstimateGasExecutionError:ua,ExecutionRevertedError:jo,FeeCapTooHighError:Do,FeeCapTooLowError:Uo,FeeConflictError:Go,FilterTypeNotSupportedError:fa,HttpRequestError:zo,InsufficientFundsError:Vo,IntegerOutOfRangeError:Zo,InternalRpcError:Ko,IntrinsicGasTooHighError:Wo,IntrinsicGasTooLowError:Yo,InvalidAbiDecodingTypeError:Jo,InvalidAbiEncodingTypeError:Xo,InvalidAbiItemError:ps,InvalidAbiParameterError:ys,InvalidAbiParametersError:bs,InvalidAbiTypeParameterError:Qo,InvalidAddressError:Zn,InvalidArrayError:ei,InvalidBytesBooleanError:ti,InvalidChainIdError:ni,InvalidDecimalNumberError:Aa,InvalidDefinitionTypeError:ri,InvalidDomainError:_d,InvalidFunctionModifierError:si,InvalidHexBooleanError:ai,InvalidHexValueError:Rs,InvalidInputRpcError:zn,InvalidLegacyVError:Hs,InvalidModifierError:oi,InvalidParameterError:ii,InvalidParamsRpcError:ci,InvalidParenthesisError:ui,InvalidPrimaryTypeError:Id,InvalidRequestRpcError:di,InvalidSerializableTransactionError:fi,InvalidSerializedTransactionError:Ue,InvalidSerializedTransactionTypeError:Fs,InvalidSignatureError:li,InvalidStorageKeySizeError:hi,InvalidStructSignatureError:mi,InvalidStructTypeError:Pd,JsonRpcVersionUnsupportedError:gi,LimitExceededRpcError:pi,MaxFeePerGasTooLowError:ia,MethodNotFoundRpcError:yi,MethodNotSupportedRpcError:bi,NonceMaxValueError:wi,NonceTooHighError:vi,NonceTooLowError:Ei,ParseRpcError:xi,ProviderDisconnectedError:_i,ProviderRpcError:Ii,RawContractError:Pi,ResourceNotFoundRpcError:Ti,ResourceUnavailableRpcError:Si,RpcError:Bi,RpcRequestError:Js,SizeExceedsPaddingSizeError:Ai,SizeOverflowError:Ci,SliceOffsetOutOfBoundsError:ki,SocketClosedError:Je,SolidityProtectedKeywordError:Ni,StateAssignmentConflictError:qi,SwitchChainError:Ri,TimeoutError:Ps,TipAboveFeeCapError:Fi,TransactionExecutionError:is,TransactionNotFoundError:Un,TransactionReceiptNotFoundError:Gn,TransactionRejectedRpcError:Ks,TransactionTypeNotSupportedError:Li,UnauthorizedProviderError:Mi,UnknownNodeError:Fn,UnknownRpcError:Oi,UnknownSignatureError:Hi,UnknownTypeError:$i,UnsupportedPackedAbiType:Ns,UnsupportedProviderMethodError:ji,UrlRequiredError:Ys,UserRejectedRequestError:Ws,WaitForTransactionReceiptTimeoutError:Us,WebSocketRequestError:pn,assertCurrentChain:Xn,assertRequest:Qe,assertTransactionEIP1559:Ls,assertTransactionEIP2930:Ms,assertTransactionLegacy:Os,blobsToCommitments:fs,blobsToProofs:hs,boolToBytes:Di,boolToHex:Cs,bytesToBigInt:Ui,bytesToBool:Gi,bytesToHex:_e,bytesToNumber:zi,bytesToRlp:Vi,bytesToString:Zi,ccipFetch:Cr,ccipRequest:Cr,checksumAddress:qn,commitmentToVersionedHash:ea,commitmentsToVersionedHashes:ls,compactSignatureToHex:Yr,compactSignatureToSignature:Mh,concat:qs,concatBytes:Ki,concatHex:je,createClient:Nt,createNonceManager:Ca,createPublicClient:Ch,createTestClient:kh,createTransport:kt,createWalletClient:Nh,custom:Eh,decodeAbiParameters:De,decodeDeployData:Lh,decodeErrorResult:Wi,decodeEventLog:Mt,decodeFunctionData:Sf,decodeFunctionResult:Gs,defineBlock:Yi,defineChain:Ji,defineKzg:Za,defineTransaction:Xi,defineTransactionReceipt:Qi,defineTransactionRequest:ec,deploylessCallViaBytecodeBytecode:tc,deploylessCallViaFactoryBytecode:nc,domainSeparator:Td,encodeAbiParameters:nt,encodeDeployData:On,encodeErrorResult:Bf,encodeEventTopics:Ge,encodeFunctionData:rt,encodeFunctionResult:Af,encodePacked:Cf,erc20Abi:rc,erc20Abi_bytes32:sc,erc4626Abi:ac,erc721Abi:oc,etherUnits:js,extractChain:If,fallback:xh,formatBlock:cs,formatEther:us,formatGwei:Ke,formatLog:pe,formatTransaction:xs,formatTransactionReceipt:_s,formatTransactionRequest:et,formatUnits:ic,fromBlobs:jh,fromBytes:cc,fromHex:uc,fromRlp:ur,getAbiItem:tt,getAddress:se,getChainContractAddress:ws,getContract:vh,getContractAddress:kf,getContractError:Ct,getCreate2Address:ba,getCreateAddress:ya,getEventSelector:Ye,getEventSignature:pt,getFunctionSelector:Tt,getFunctionSignature:pt,getSerializedTransactionType:Sa,getTransactionType:ms,getTypesForEIP712Domain:ta,gweiUnits:Ds,hashDomain:Sd,hashMessage:qt,hashTypedData:Jn,hexToBigInt:O,hexToBool:Vs,hexToBytes:be,hexToCompactSignature:Kr,hexToNumber:D,hexToRlp:dc,hexToSignature:Wr,hexToString:fc,http:lc,isAddress:Vn,isAddressEqual:Te,isBytes:Tn,isErc6492Signature:lr,isHash:va,isHex:R,keccak256:ue,labelhash:hc,maxInt104:mc,maxInt112:gc,maxInt120:pc,maxInt128:yc,maxInt136:bc,maxInt144:wc,maxInt152:vc,maxInt16:Ec,maxInt160:xc,maxInt168:_c,maxInt176:Ic,maxInt184:Pc,maxInt192:Tc,maxInt200:Sc,maxInt208:Bc,maxInt216:Ac,maxInt224:Cc,maxInt232:kc,maxInt24:Nc,maxInt240:qc,maxInt248:Rc,maxInt256:Fc,maxInt32:Lc,maxInt40:Mc,maxInt48:Oc,maxInt56:Hc,maxInt64:$c,maxInt72:jc,maxInt8:Dc,maxInt80:Uc,maxInt88:Gc,maxInt96:zc,maxUint104:Vc,maxUint112:Zc,maxUint120:Kc,maxUint128:Wc,maxUint136:Yc,maxUint144:Jc,maxUint152:Xc,maxUint16:Qc,maxUint160:eu,maxUint168:tu,maxUint176:nu,maxUint184:ru,maxUint192:su,maxUint200:au,maxUint208:ou,maxUint216:iu,maxUint224:cu,maxUint232:uu,maxUint24:du,maxUint240:fu,maxUint248:lu,maxUint256:hu,maxUint32:mu,maxUint40:gu,maxUint48:pu,maxUint56:yu,maxUint64:bu,maxUint72:wu,maxUint8:vu,maxUint80:Eu,maxUint88:xu,maxUint96:_u,minInt104:Iu,minInt112:Pu,minInt120:Tu,minInt128:Su,minInt136:Bu,minInt144:Au,minInt152:Cu,minInt16:ku,minInt160:Nu,minInt168:qu,minInt176:Ru,minInt184:Fu,minInt192:Lu,minInt200:Mu,minInt208:Ou,minInt216:Hu,minInt224:$u,minInt232:ju,minInt24:Du,minInt240:Uu,minInt248:Gu,minInt256:zu,minInt32:Vu,minInt40:Zu,minInt48:Ku,minInt56:Wu,minInt64:Yu,minInt72:Ju,minInt8:Xu,minInt80:Qu,minInt88:ed,minInt96:td,multicall3Abi:nd,namehash:rd,nonceManager:nl,numberToBytes:sd,numberToHex:k,offchainLookup:kd,offchainLookupAbiItem:Nd,offchainLookupSignature:qd,pad:We,padBytes:ad,padHex:vn,parseAbi:od,parseAbiItem:Gd,parseAbiParameter:zd,parseAbiParameters:Vd,parseCompactSignature:Kr,parseErc6492Signature:Vf,parseEther:Qf,parseEventLogs:Ot,parseGwei:el,parseSignature:Wr,parseTransaction:Ba,parseUnits:hr,prepareEncodeFunctionData:id,presignMessagePrefix:Bd,publicActions:Ga,recoverAddress:Se,recoverMessageAddress:_a,recoverPublicKey:sa,recoverTransactionAddress:Oh,recoverTypedDataAddress:Ia,ripemd160:jf,rpcSchema:cd,rpcTransactionType:ud,serializeAccessList:dd,serializeCompactSignature:Yr,serializeErc6492Signature:Ta,serializeSignature:Nn,serializeTransaction:Qs,serializeTypedData:ra,setErrorConfig:fd,setupKzg:Dh,sha256:ld,sidecarsToVersionedHashes:$h,signatureToCompactSignature:Hh,signatureToHex:Nn,size:Dn,slice:Pt,sliceBytes:hd,sliceHex:Wn,stringToBytes:md,stringToHex:Kn,stringify:de,testActions:za,toBlobSidecars:Mn,toBlobs:gd,toBytes:ne,toEventHash:Ar,toEventSelector:Ye,toEventSignature:pt,toFunctionHash:Ar,toFunctionSelector:Tt,toFunctionSignature:pt,toHex:qe,toPrefixedMessage:Ad,toRlp:Rn,transactionType:pd,trim:$s,universalSignatureValidatorAbi:xn,universalSignatureValidatorByteCode:zs,validateTypedData:na,verifyHash:Df,verifyMessage:Uf,verifyTypedData:Gf,walletActions:Va,webSocket:qh,weiUnits:yd,withRetry:En,withTimeout:Is,zeroAddress:Rh,zeroHash:zf},Symbol.toStringTag,{value:"Module"}));var vr={},zt={},Ka={},St={},Wa={},lt={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.getSDKVersion=void 0;const Gh=()=>"9.1.0";ht.getSDKVersion=Gh;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.generateRequestId=void 0;const zh=e=>e.toString(16).padStart(2,"0"),Vh=e=>{const t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,zh).join("")},Zh=()=>typeof window<"u"?Vh(10):new Date().getTime().toString(36);Vt.generateRequestId=Zh;Object.defineProperty(lt,"__esModule",{value:!0});lt.MessageFormatter=void 0;const Kh=ht,Wh=Vt;class Zt{}lt.MessageFormatter=Zt;Zt.makeRequest=(e,t)=>({id:(0,Wh.generateRequestId)(),method:e,params:t,env:{sdkVersion:(0,Kh.getSDKVersion)()}});Zt.makeResponse=(e,t,n)=>({id:e,success:!0,version:n,data:t});Zt.makeErrorResponse=(e,t,n)=>({id:e,success:!1,error:t,version:n});var te={};Object.defineProperty(te,"__esModule",{value:!0});te.RestrictedMethods=te.Methods=void 0;var Jr;(function(e){e.sendTransactions="sendTransactions",e.rpcCall="rpcCall",e.getChainInfo="getChainInfo",e.getSafeInfo="getSafeInfo",e.getTxBySafeTxHash="getTxBySafeTxHash",e.getSafeBalances="getSafeBalances",e.signMessage="signMessage",e.signTypedMessage="signTypedMessage",e.getEnvironmentInfo="getEnvironmentInfo",e.getOffChainSignature="getOffChainSignature",e.requestAddressBook="requestAddressBook",e.wallet_getPermissions="wallet_getPermissions",e.wallet_requestPermissions="wallet_requestPermissions"})(Jr||(te.Methods=Jr={}));var Xr;(function(e){e.requestAddressBook="requestAddressBook"})(Xr||(te.RestrictedMethods=Xr={}));(function(e){var t=j&&j.__createBinding||(Object.create?function(a,i,c,o){o===void 0&&(o=c);var u=Object.getOwnPropertyDescriptor(i,c);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[c]}}),Object.defineProperty(a,o,u)}:function(a,i,c,o){o===void 0&&(o=c),a[o]=i[c]}),n=j&&j.__exportStar||function(a,i){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(i,c)&&t(i,a,c)};Object.defineProperty(e,"__esModule",{value:!0});const r=lt;class s{constructor(i=null,c=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:o,data:u,source:l})=>{const f=!u,d=!this.isServer&&l===window.parent,h=typeof u.version<"u"&&parseInt(u.version.split(".")[0]),p=typeof h=="number"&&h>=1;let g=!0;return Array.isArray(this.allowedOrigins)&&(g=this.allowedOrigins.find(m=>m.test(o))!==void 0),!f&&d&&p&&g},this.logIncomingMessage=o=>{console.info(`Safe Apps SDK v1: A message was received from origin ${o.origin}. `,o.data)},this.onParentMessage=o=>{this.isValidMessage(o)&&(this.debugMode&&this.logIncomingMessage(o),this.handleIncomingMessage(o.data))},this.handleIncomingMessage=o=>{const{id:u}=o,l=this.callbacks.get(u);l&&(l(o),this.callbacks.delete(u))},this.send=(o,u)=>{const l=r.MessageFormatter.makeRequest(o,u);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(l,"*"),new Promise((f,d)=>{this.callbacks.set(l.id,h=>{if(!h.success){d(new Error(h.error));return}f(h)})})},this.allowedOrigins=i,this.debugMode=c,this.isServer||window.addEventListener("message",this.onParentMessage)}}e.default=s,n(te,e)})(Wa);var Kt={},Wt={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.isObjectEIP712TypedData=void 0;const Yh=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;Yt.isObjectEIP712TypedData=Yh;var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});var Ja={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransferDirection=e.TransactionStatus=e.TokenType=e.Operation=void 0;var t=Cd;Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return t.Operation}}),Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return t.TokenType}}),Object.defineProperty(e,"TransactionStatus",{enumerable:!0,get:function(){return t.TransactionStatus}}),Object.defineProperty(e,"TransferDirection",{enumerable:!0,get:function(){return t.TransferDirection}})})(Ja);var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});(function(e){var t=j&&j.__createBinding||(Object.create?function(r,s,a,i){i===void 0&&(i=a);var c=Object.getOwnPropertyDescriptor(s,a);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(r,i,c)}:function(r,s,a,i){i===void 0&&(i=a),r[i]=s[a]}),n=j&&j.__exportStar||function(r,s){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Yt,e),n(Ya,e),n(Ja,e),n(Xa,e)})(Wt);Object.defineProperty(Kt,"__esModule",{value:!0});Kt.TXs=void 0;const wt=te,Jh=Wt;class Xh{constructor(t){this.communicator=t}async getBySafeTxHash(t){if(!t)throw new Error("Invalid safeTxHash");return(await this.communicator.send(wt.Methods.getTxBySafeTxHash,{safeTxHash:t})).data}async signMessage(t){const n={message:t};return(await this.communicator.send(wt.Methods.signMessage,n)).data}async signTypedMessage(t){if(!(0,Jh.isObjectEIP712TypedData)(t))throw new Error("Invalid typed data");return(await this.communicator.send(wt.Methods.signTypedMessage,{typedData:t})).data}async send({txs:t,params:n}){if(!t||!t.length)throw new Error("No transactions were passed");const r={txs:t,params:n};return(await this.communicator.send(wt.Methods.sendTransactions,r)).data}}Kt.TXs=Xh;var Jt={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.RPC_CALLS=void 0;Ve.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.Eth=void 0;const W=Ve,Qh=te,oe={defaultBlockParam:(e="latest")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};class em{constructor(t){this.communicator=t,this.call=this.buildRequest({call:W.RPC_CALLS.eth_call,formatters:[null,oe.defaultBlockParam]}),this.getBalance=this.buildRequest({call:W.RPC_CALLS.eth_getBalance,formatters:[null,oe.defaultBlockParam]}),this.getCode=this.buildRequest({call:W.RPC_CALLS.eth_getCode,formatters:[null,oe.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:W.RPC_CALLS.eth_getStorageAt,formatters:[null,oe.blockNumberToHex,oe.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:W.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:W.RPC_CALLS.eth_getBlockByHash,formatters:[null,oe.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:W.RPC_CALLS.eth_getBlockByNumber,formatters:[oe.blockNumberToHex,oe.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:W.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:W.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:W.RPC_CALLS.eth_getTransactionCount,formatters:[null,oe.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:W.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=n=>this.buildRequest({call:W.RPC_CALLS.eth_estimateGas})([n]),this.setSafeSettings=this.buildRequest({call:W.RPC_CALLS.safe_setSettings})}buildRequest(t){const{call:n,formatters:r}=t;return async s=>{r&&Array.isArray(s)&&r.forEach((c,o)=>{c&&(s[o]=c(s[o]))});const a={call:n,params:s||[]};return(await this.communicator.send(Qh.Methods.rpcCall,a)).data}}}Jt.Eth=em;var Xt={};const tm=bd(Uh);var He={};Object.defineProperty(He,"__esModule",{value:!0});He.MAGIC_VALUE_BYTES=He.MAGIC_VALUE=void 0;const nm="0x1626ba7e";He.MAGIC_VALUE=nm;const rm="0x20c13b0b";He.MAGIC_VALUE_BYTES=rm;var Er={},mt={},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PermissionsError=Pe.PERMISSIONS_REQUEST_REJECTED=void 0;Pe.PERMISSIONS_REQUEST_REJECTED=4001;class xr extends Error{constructor(t,n,r){super(t),this.code=n,this.data=r,Object.setPrototypeOf(this,xr.prototype)}}Pe.PermissionsError=xr;Object.defineProperty(mt,"__esModule",{value:!0});mt.Wallet=void 0;const hn=te,vt=Pe;class sm{constructor(t){this.communicator=t}async getPermissions(){return(await this.communicator.send(hn.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(t){if(!this.isPermissionRequestValid(t))throw new vt.PermissionsError("Permissions request is invalid",vt.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(hn.Methods.wallet_requestPermissions,t)).data}catch{throw new vt.PermissionsError("Permissions rejected",vt.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(t){return t.every(n=>typeof n=="object"?Object.keys(n).every(r=>!!Object.values(hn.RestrictedMethods).includes(r)):!1)}}mt.Wallet=sm;Object.defineProperty(Er,"__esModule",{value:!0});const am=mt,Qr=Pe,es=(e,t)=>t.some(n=>n.parentCapability===e),om=()=>(e,t,n)=>{const r=n.value;return n.value=async function(){const s=new am.Wallet(this.communicator);let a=await s.getPermissions();if(es(t,a)||(a=await s.requestPermissions([{[t]:{}}])),!es(t,a))throw new Qr.PermissionsError("Permissions rejected",Qr.PERMISSIONS_REQUEST_REJECTED);return r.apply(this)},n};Er.default=om;var im=j&&j.__decorate||function(e,t,n,r){var s=arguments.length,a=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},cm=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.Safe=void 0;const Et=tm,ts=He,ge=te,ns=Ve,um=Wt,dm=cm(Er);class Qa{constructor(t){this.communicator=t}async getChainInfo(){return(await this.communicator.send(ge.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(ge.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:t="usd"}={}){return(await this.communicator.send(ge.Methods.getSafeBalances,{currency:t})).data}async check1271Signature(t,n="0x"){const r=await this.getInfo(),s=(0,Et.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,n]}),a={call:ns.RPC_CALLS.eth_call,params:[{to:r.safeAddress,data:s},"latest"]};try{return(await this.communicator.send(ge.Methods.rpcCall,a)).data.slice(0,10).toLowerCase()===ts.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(t,n="0x"){const r=await this.getInfo(),s=(0,Et.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,n]}),a={call:ns.RPC_CALLS.eth_call,params:[{to:r.safeAddress,data:s},"latest"]};try{return(await this.communicator.send(ge.Methods.rpcCall,a)).data.slice(0,10).toLowerCase()===ts.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(t){return(0,Et.hashMessage)(t)}calculateTypedMessageHash(t){const n=typeof t.domain.chainId=="object"?t.domain.chainId.toNumber():Number(t.domain.chainId);let r=t.primaryType;if(!r){const s=Object.values(t.types),a=Object.keys(t.types).filter(i=>s.every(c=>c.every(({type:o})=>o.replace("[","").replace("]","")!==i)));if(a.length===0||a.length>1)throw new Error("Please specify primaryType");r=a[0]}return(0,Et.hashTypedData)({message:t.message,domain:{...t.domain,chainId:n,verifyingContract:t.domain.verifyingContract,salt:t.domain.salt},types:t.types,primaryType:r})}async getOffChainSignature(t){return(await this.communicator.send(ge.Methods.getOffChainSignature,t)).data}async isMessageSigned(t,n="0x"){let r;if(typeof t=="string"&&(r=async()=>{const s=this.calculateMessageHash(t);return await this.isMessageHashSigned(s,n)}),(0,um.isObjectEIP712TypedData)(t)&&(r=async()=>{const s=this.calculateTypedMessageHash(t);return await this.isMessageHashSigned(s,n)}),r)return await r();throw new Error("Invalid message type")}async isMessageHashSigned(t,n="0x"){const r=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const s of r)if(await s(t,n))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(ge.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(ge.Methods.requestAddressBook,void 0)).data}}Xt.Safe=Qa;im([(0,dm.default)()],Qa.prototype,"requestAddressBook",null);var fm=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(St,"__esModule",{value:!0});const lm=fm(Wa),hm=Kt,mm=Jt,gm=Xt,pm=mt;class ym{constructor(t={}){const{allowedDomains:n=null,debug:r=!1}=t;this.communicator=new lm.default(n,r),this.eth=new mm.Eth(this.communicator),this.txs=new hm.TXs(this.communicator),this.safe=new gm.Safe(this.communicator),this.wallet=new pm.Wallet(this.communicator)}}St.default=ym;(function(e){var t=j&&j.__createBinding||(Object.create?function(i,c,o,u){u===void 0&&(u=o);var l=Object.getOwnPropertyDescriptor(c,o);(!l||("get"in l?!c.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return c[o]}}),Object.defineProperty(i,u,l)}:function(i,c,o,u){u===void 0&&(u=o),i[u]=c[o]}),n=j&&j.__exportStar||function(i,c){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(c,o)&&t(c,i,o)},r=j&&j.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSDKVersion=void 0;const s=r(St);e.default=s.default,n(St,e),n(Wt,e),n(te,e),n(lt,e);var a=ht;Object.defineProperty(e,"getSDKVersion",{enumerable:!0,get:function(){return a.getSDKVersion}}),n(Ve,e)})(Ka);var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.numberToHex=$e.getLowerCase=void 0;function bm(e){return e&&e.toLowerCase()}$e.getLowerCase=bm;function wm(e){return`0x${e.toString(16)}`}$e.numberToHex=wm;Object.defineProperty(zt,"__esModule",{value:!0});zt.SafeAppProvider=void 0;const ke=Ka,vm=Rd,J=$e;class Em extends vm.EventEmitter{constructor(t,n){super(),this.submittedTxs=new Map,this.safe=t,this.sdk=n}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(t){var s,a,i,c;const{method:n,params:r=[]}=t;switch(n){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,J.numberToHex)(this.chainId);case"personal_sign":{const[d,h]=r;if(this.safe.safeAddress.toLowerCase()!==h.toLowerCase())throw new Error("The address or message hash is invalid");const p=await this.sdk.txs.signMessage(d);return("signature"in p?p.signature:void 0)||"0x"}case"eth_sign":{const[d,h]=r;if(this.safe.safeAddress.toLowerCase()!==d.toLowerCase()||!h.startsWith("0x"))throw new Error("The address or message hash is invalid");const p=await this.sdk.txs.signMessage(h);return("signature"in p?p.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[d,h]=r,p=typeof h=="string"?JSON.parse(h):h;if(this.safe.safeAddress.toLowerCase()!==d.toLowerCase())throw new Error("The address is invalid");const g=await this.sdk.txs.signTypedMessage(p);return("signature"in g?g.signature:void 0)||"0x"}case"eth_sendTransaction":const o={...r[0],value:r[0].value||"0",data:r[0].data||"0x"};typeof o.gas=="string"&&o.gas.startsWith("0x")&&(o.gas=parseInt(o.gas,16));const u=await this.sdk.txs.send({txs:[o],params:{safeTxGas:o.gas}});return this.submittedTxs.set(u.safeTxHash,{from:this.safe.safeAddress,hash:u.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:o.data,value:o.value,to:o.to,blockHash:null,blockNumber:null,transactionIndex:null}),u.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,J.getLowerCase)(r[0]),r[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,J.getLowerCase)(r[0]),r[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,J.getLowerCase)(r[0]),r[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,J.getLowerCase)(r[0]),r[1],r[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([r[0],r[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([r[0],r[1]]);case"eth_getTransactionByHash":let f=r[0];try{f=(await this.sdk.txs.getBySafeTxHash(f)).txHash||f}catch{}return this.submittedTxs.has(f)?this.submittedTxs.get(f):this.sdk.eth.getTransactionByHash([f]).then(d=>(d&&(d.hash=r[0]),d));case"eth_getTransactionReceipt":{let d=r[0];try{d=(await this.sdk.txs.getBySafeTxHash(d)).txHash||d}catch{}return this.sdk.eth.getTransactionReceipt([d]).then(h=>(h&&(h.transactionHash=r[0]),h))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(r[0]);case"eth_call":return this.sdk.eth.call([r[0],r[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([r[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(r[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([r[0]]);case"wallet_sendCalls":{if(r[0].from!==this.safe.safeAddress)throw Error("Invalid from address");const d=r[0].calls.map((p,g)=>{if(p.chainId!==(0,J.numberToHex)(this.chainId))throw new Error(`Invalid call #${g}: Safe is not on chain ${p.chainId}`);if(!p.to)throw new Error(`Invalid call #${g}: missing "to" field`);return{to:p.to,data:p.data??"0x",value:p.value??(0,J.numberToHex)(0)}}),{safeTxHash:h}=await this.sdk.txs.send({txs:d});return h}case"wallet_getCallsStatus":{const d={[ke.TransactionStatus.AWAITING_CONFIRMATIONS]:"PENDING",[ke.TransactionStatus.AWAITING_EXECUTION]:"PENDING",[ke.TransactionStatus.CANCELLED]:"CONFIRMED",[ke.TransactionStatus.FAILED]:"CONFIRMED",[ke.TransactionStatus.SUCCESS]:"CONFIRMED"},h=await this.sdk.txs.getBySafeTxHash(r[0]).catch(()=>null);if(!(h!=null&&h.txHash))throw new Error("Transaction not found");const p=await this.sdk.eth.getTransactionReceipt([h.txHash]).catch(()=>null);if(!p)throw new Error("Transaction receipt not found");const g=((a=(s=h.txData)==null?void 0:s.dataDecoded)==null?void 0:a.method)!=="multiSend"?1:((c=(i=h.txData.dataDecoded.parameters)==null?void 0:i[0].valueDecoded)==null?void 0:c.length)??1,m=Number(p.blockNumber),y=Number(p.gasUsed),b=Array(g).fill({success:(0,J.numberToHex)(h.txStatus===ke.TransactionStatus.SUCCESS?1:0),blockHash:p.blockHash,blockNumber:(0,J.numberToHex)(m),blockTimestamp:(0,J.numberToHex)(h.executedAt??0),gasUsed:(0,J.numberToHex)(y),transactionHash:h.txHash,logs:p.logs});return{status:d[h.txStatus],receipts:b}}case"wallet_showCallsStatus":throw new Error(`"${t.method}" not supported`);case"wallet_getCapabilities":return{[(0,J.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${t.method}" not implemented`)}}send(t,n){t||n("Undefined request"),this.request(t).then(r=>n(null,{jsonrpc:"2.0",id:t.id,result:r})).catch(r=>n(r,null))}}zt.SafeAppProvider=Em;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeAppProvider=void 0;var t=zt;Object.defineProperty(e,"SafeAppProvider",{enumerable:!0,get:function(){return t.SafeAppProvider}})})(vr);const xm=wd(vr),Bm=Fd({__proto__:null,default:xm},[vr]);export{Bm as i};
